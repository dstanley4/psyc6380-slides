<!DOCTYPE html>
<html lang="en"><head>
<script src="reg-cat-part2_files/libs/clipboard/clipboard.min.js"></script>
<script src="reg-cat-part2_files/libs/quarto-html/tabby.min.js"></script>
<script src="reg-cat-part2_files/libs/quarto-html/popper.min.js"></script>
<script src="reg-cat-part2_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="reg-cat-part2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="reg-cat-part2_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="reg-cat-part2_files/libs/quarto-html/quarto-syntax-highlighting-dark-707d8167ce6003fca903bfe2be84ab7f.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.25">

  <title>reg-cat-part2</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reg-cat-part2_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="reg-cat-part2_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="reg-cat-part2_files/libs/revealjs/dist/theme/quarto-a816a3489efb184b8c611a5d7787864b.css">
  <link href="reg-cat-part2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="reg-cat-part2_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="reg-cat-part2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="reg-cat-part2_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="reg-cat-part2_files/libs/htmltools-fill-0.5.9/fill.css" rel="stylesheet">
  <script src="reg-cat-part2_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
  <script src="reg-cat-part2_files/libs/plotly-binding-4.11.0/plotly.js"></script>
  <script src="reg-cat-part2_files/libs/typedarray-0.1/typedarray.min.js"></script>
  <script src="reg-cat-part2_files/libs/jquery-3.5.1/jquery.min.js"></script>
  <link href="reg-cat-part2_files/libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
  <script src="reg-cat-part2_files/libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>
  <link href="reg-cat-part2_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
  <script src="reg-cat-part2_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
  <script src="reg-cat-part2_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="reg-cat-part2_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">


<section id="section" class="slide level2" data-background-image="images/ai-image-boardroom-decision-v3.webp" data-background-size="cover">
<h2></h2>
<div class="overlay-text-bottom">
<p><strong>The board meets next week.</strong> Should they approve the new onboarding program?</p>
</div>
</section>
<section id="a-quick-result-to-consider" class="slide level2">
<h2>A Quick Result to Consider</h2>
<p>A company tested a new onboarding program. The CEO is ready to:</p>
<ul>
<li>Roll out the new program to 5,000 employees</li>
<li>Discontinue the old program entirely</li>
<li>Announce the decision at next week‚Äôs board meeting</li>
</ul>
<p>The evidence:</p>
<blockquote>
<p><strong>New program employees scored 13.72 points higher than old program employees.</strong></p>
<p><em>p</em> &lt; .001 (highly significant!)</p>
</blockquote>
<p>Should the board approve this decision? What would you ask before voting yes?</p>
</section>
<section id="section-1" class="slide level2 formula-large">
<h2></h2>
<p><strong>But wait‚Ä¶</strong> Should we trust this result? What questions should we ask before making this decision?</p>
</section>
<section id="review-key-concepts-from-part-1" class="slide level2 content-light">
<h2>Review: Key Concepts from Part 1</h2>
<p><strong>What does ≈∑ mean?</strong></p>
<ul>
<li>≈∑ is our estimate of the <strong>mean y</strong> for all people with those predictor values</li>
<li>With categorical predictors: ≈∑ for each group equals that <strong>group‚Äôs mean</strong></li>
<li>The regression line connects conditional means</li>
</ul>
<p><strong>Why do categorical predictors need special coding?</strong></p>
<ul>
<li>Categories have no inherent numeric order (1, 2, 3 would imply equal spacing)</li>
<li>Solution: <strong>Treatment (dummy) coding</strong> uses 0s and 1s</li>
<li>Reference group: coded as 0 on all contrast columns</li>
<li>Other groups: coded as 1 on their respective contrast column</li>
</ul>
</section>
<section id="review-interpreting-treatment-coded-output" class="slide level2">
<h2>Review: Interpreting Treatment-Coded Output</h2>
<p><strong>With treatment coding, the coefficients tell us:</strong></p>
<table class="caption-top">
<colgroup>
<col style="width: 44%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Coefficient</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Intercept (b‚ÇÄ)</td>
<td>Mean of the <strong>reference group</strong></td>
</tr>
<tr class="even">
<td>Each slope (b‚ÇÅ, b‚ÇÇ, ‚Ä¶)</td>
<td>Difference between that group and the reference</td>
</tr>
</tbody>
</table>
<p><strong>‚ÄúThinking horizontally‚Äù to get predictions:</strong></p>
<p><span class="math display">\[\hat{y} = b_0 \times 1 + b_1 \times c_1 + b_2 \times c_2 + ...\]</span></p>
<ul>
<li>Plug in 0s and 1s based on group membership</li>
<li>Reference group: ≈∑ = b‚ÇÄ (all contrast columns = 0)</li>
<li>Other groups: ≈∑ = b‚ÇÄ + b‚Çñ (their contrast column = 1)</li>
</ul>
<p><strong>Today we will focus on b-weights not beta-weights because we are using contrast columns</strong></p>
</section>
<section id="quick-check-before-we-move-on" class="slide level2 content-light">
<h2>Quick Check: Before We Move On</h2>
<p>üí¨ <strong>In the chat:</strong> What‚Äôs one concept from Part 1 that you want to make sure you solidify today?</p>
<p>Examples: ‚ÄúHow to interpret the intercept,‚Äù ‚ÄúWhy we use 0s and 1s,‚Äù ‚ÄúWhat ≈∑ actually represents‚Äù</p>
<p><em>Take 30 seconds‚Äîthis helps me know where to slow down.</em></p>
</section>
<section id="part-4-combining-categorical-and-continuous-predictors" class="slide level2 section-header" data-background="linear-gradient(135deg, #880041 0%, #A31753 50%, #B53A66 100%)">
<h2>Part 4: Combining Categorical and Continuous Predictors</h2>
</section>
<section id="overview-categorical-continuous-predictors" class="slide level2">
<h2>Overview: Categorical + Continuous Predictors</h2>
<p><strong>Building on our regression foundation:</strong> We now combine what we‚Äôve learned about categorical predictors with continuous predictors in the same model.</p>
<p>This approach is traditionally called <strong>ANCOVA</strong> (Analysis of Covariance)‚Äîbut it‚Äôs just multiple regression with both predictor types.</p>
<p><strong>When to use this approach:</strong></p>
<ul>
<li>Comparing groups while <strong>controlling for a covariate</strong> (e.g., comparing treatment effects while adjusting for baseline scores)</li>
<li>Evaluating an intervention when groups differ on a <strong>confounding variable</strong> (e.g., program effects adjusted for prior experience)</li>
<li>Testing whether group differences remain after <strong>accounting for individual differences</strong> (e.g., therapy outcomes adjusted for symptom severity)</li>
</ul>
</section>
<section id="section-2" class="slide level2" data-background-image="images/ai-image-4.png" data-background-size="cover">
<h2></h2>
<div class="overlay-text-bottom">
<p><strong>Scenario:</strong> Does the new onboarding program actually work?</p>
</div>
</section>
<section id="the-onboarding-problem" class="slide level2">
<h2>The Onboarding Problem</h2>
<p>A company wants to know if their new onboarding program improves performance.</p>
<p><strong>The complication:</strong> Employees in the new program also have more education.</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Group</th>
<th>Performance</th>
<th>Education</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>New program</td>
<td>Higher</td>
<td>Higher</td>
</tr>
<tr class="even">
<td>Old program</td>
<td>Lower</td>
<td>Lower</td>
</tr>
</tbody>
</table>
<p><strong>The question we need to answer:</strong></p>
<blockquote>
<p>Is performance higher because of the <em>program</em>‚Ä¶ or because of <em>education</em>?</p>
</blockquote>
<blockquote>
<p><strong>What is the effect of the program <em>holding education constant</em>?</strong></p>
</blockquote>
</section>
<section id="we-begin-with-just-program-an-unadjusted-analysis" class="slide level2 content-light">
<h2>We Begin with Just Program: An Unadjusted Analysis</h2>
<p>We will begin by using regression to examine the difference between the programs (old vs new).</p>
<p>After assessing the result of this analysis, we will move on to including education in the analysis (i.e., conducting an Adjusted Analysis).</p>
</section>
<section id="the-onboarding-data" class="slide level2">
<h2>The Onboarding Data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a>onboard_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../data/onboard_data.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">program</th>
<th style="text-align: right;">education</th>
<th style="text-align: right;">performance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ivy</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">54.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jack</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">67.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kate</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">65.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ian</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">64.4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Julia</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">64.6</td>
</tr>
<tr class="even">
<td style="text-align: left;">Keith</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">63.7</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Laura</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">75.3</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miles</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">66.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nadia</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">74.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oliver</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">69.8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Luna</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">67.8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Max</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">84.2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nina</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">78.0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Liam</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">90.6</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Megan</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">70.7</td>
</tr>
<tr class="even">
<td style="text-align: left;">Noah</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">81.8</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Leah</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">88.4</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marcus</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">73.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nora</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">88.1</td>
</tr>
<tr class="even">
<td style="text-align: left;">Logan</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">80.2</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="differences-in-programs" class="slide level2">
<h2>Differences in Programs</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a>onboard_data <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href=""></a>  <span class="fu">group_by</span>(program) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href=""></a>  <span class="fu">summarize</span>(</span>
<span id="cb2-4"><a href=""></a>    <span class="at">mean_perf =</span> <span class="fu">mean</span>(performance)</span>
<span id="cb2-5"><a href=""></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">program</th>
<th style="text-align: right;">mean_perf</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">new</td>
<td style="text-align: right;">80.28</td>
</tr>
<tr class="even">
<td style="text-align: left;">old</td>
<td style="text-align: right;">66.56</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The programs (old vs new) differ by 13.72. We can find this difference using regression.</p>
</section>
<section id="program-only-model-unadjusted" class="slide level2">
<h2>Program-Only Model (Unadjusted)</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a>onboard_data <span class="ot">&lt;-</span> onboard_data <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">program =</span> <span class="fu">as.factor</span>(program)) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">program =</span> <span class="fu">fct_relevel</span>(program, <span class="st">"old"</span>))</span>
<span id="cb3-4"><a href=""></a></span>
<span id="cb3-5"><a href=""></a>lm_program_only <span class="ot">&lt;-</span> <span class="fu">lm</span>(performance <span class="sc">~</span> program, <span class="at">data =</span> onboard_data)</span>
<span id="cb3-6"><a href=""></a><span class="fu">tidy</span>(lm_program_only)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">2.186956</td>
<td style="text-align: right;">30.434993</td>
<td style="text-align: right;">0.000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">programnew</td>
<td style="text-align: right;">13.72</td>
<td style="text-align: right;">3.092823</td>
<td style="text-align: right;">4.436076</td>
<td style="text-align: right;">0.000319</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The <strong>intercept</strong> (66.56) represents the mean performance for employees in the <strong>old program</strong> (the reference group).</p>
<p>The coefficient for <strong>programnew</strong> (13.72) indicates that employees in the new program scored 13.72 points higher than those in the old program. The mean for the new program is 80.28 (66.56 + 13.72)</p>
<p><strong>Based on this unadjusted analysis</strong>, the new program appears very effective!</p>
</section>
<section id="augment-the-unadjusted-onboarding-model" class="slide level2">
<h2>Augment the Unadjusted Onboarding Model</h2>
<p>Make predicted scores for each person/group</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a><span class="co"># Create augmented data with predictions and residuals</span></span>
<span id="cb4-2"><a href=""></a>onboard_unadj_augmented <span class="ot">&lt;-</span> <span class="fu">augment</span>(lm_program_only, <span class="at">data =</span> onboard_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell augment">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 5%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">program</th>
<th style="text-align: right;">education</th>
<th style="text-align: right;">performance</th>
<th style="text-align: right;">.fitted</th>
<th style="text-align: right;">.resid</th>
<th style="text-align: right;">.hat</th>
<th style="text-align: right;">.sigma</th>
<th style="text-align: right;">.cooksd</th>
<th style="text-align: right;">.std.resid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ivy</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">54.6</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">-11.96</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.425889</td>
<td style="text-align: right;">0.1846151</td>
<td style="text-align: right;">-1.8229293</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jack</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">67.5</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.112203</td>
<td style="text-align: right;">0.0011404</td>
<td style="text-align: right;">0.1432737</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kate</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">65.7</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">-0.86</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.112864</td>
<td style="text-align: right;">0.0009546</td>
<td style="text-align: right;">-0.1310802</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ian</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">64.4</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">-2.16</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.094803</td>
<td style="text-align: right;">0.0060216</td>
<td style="text-align: right;">-0.3292247</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Julia</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">64.6</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">-1.96</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.098598</td>
<td style="text-align: right;">0.0049581</td>
<td style="text-align: right;">-0.2987409</td>
</tr>
<tr class="even">
<td style="text-align: left;">Keith</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">63.7</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">-2.86</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.078599</td>
<td style="text-align: right;">0.0105569</td>
<td style="text-align: right;">-0.4359179</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Laura</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">75.3</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">8.74</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.756369</td>
<td style="text-align: right;">0.0985888</td>
<td style="text-align: right;">1.3321406</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miles</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">66.0</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">-0.56</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.114821</td>
<td style="text-align: right;">0.0004047</td>
<td style="text-align: right;">-0.0853545</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nadia</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">74.0</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">7.44</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.857353</td>
<td style="text-align: right;">0.0714415</td>
<td style="text-align: right;">1.1339961</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oliver</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">69.8</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">3.24</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.067889</td>
<td style="text-align: right;">0.0135486</td>
<td style="text-align: right;">0.4938370</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Luna</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">67.8</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">-12.48</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.360928</td>
<td style="text-align: right;">0.2010175</td>
<td style="text-align: right;">-1.9021871</td>
</tr>
<tr class="even">
<td style="text-align: left;">Max</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">84.2</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">3.92</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.045342</td>
<td style="text-align: right;">0.0198325</td>
<td style="text-align: right;">0.5974818</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nina</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">78.0</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">-2.28</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.092349</td>
<td style="text-align: right;">0.0067093</td>
<td style="text-align: right;">-0.3475149</td>
</tr>
<tr class="even">
<td style="text-align: left;">Liam</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">90.6</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">10.32</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.609102</td>
<td style="text-align: right;">0.1374562</td>
<td style="text-align: right;">1.5729624</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Megan</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">70.7</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">-9.58</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.681521</td>
<td style="text-align: right;">0.1184502</td>
<td style="text-align: right;">-1.4601725</td>
</tr>
<tr class="even">
<td style="text-align: left;">Noah</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">81.8</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">1.52</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.105644</td>
<td style="text-align: right;">0.0029819</td>
<td style="text-align: right;">0.2316766</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Leah</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">8.12</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.806742</td>
<td style="text-align: right;">0.0850975</td>
<td style="text-align: right;">1.2376410</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marcus</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">73.0</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">-7.28</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.868568</td>
<td style="text-align: right;">0.0684018</td>
<td style="text-align: right;">-1.1096091</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nora</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">88.1</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">7.82</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">6.829662</td>
<td style="text-align: right;">0.0789257</td>
<td style="text-align: right;">1.1919153</td>
</tr>
<tr class="even">
<td style="text-align: left;">Logan</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">80.2</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">-0.08</td>
<td style="text-align: right;">0.1</td>
<td style="text-align: right;">7.116232</td>
<td style="text-align: right;">0.0000083</td>
<td style="text-align: right;">-0.0121935</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualizing-the-unadjusted-onboarding-model-code" class="slide level2" data-transition="none">
<h2>Visualizing the Unadjusted Onboarding Model: Code</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="co"># Plot data points and predicted values</span></span>
<span id="cb5-2"><a href=""></a><span class="fu">ggplot</span>(onboard_unadj_augmented, <span class="fu">aes</span>(<span class="at">x =</span> program,</span>
<span id="cb5-3"><a href=""></a>                                     <span class="at">y =</span> performance,</span>
<span id="cb5-4"><a href=""></a>                                     <span class="at">color =</span> program,</span>
<span id="cb5-5"><a href=""></a>                                     <span class="at">shape =</span> program)) <span class="sc">+</span></span>
<span id="cb5-6"><a href=""></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.4</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href=""></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> .fitted, <span class="at">ymax =</span> .fitted),</span>
<span id="cb5-8"><a href=""></a>                <span class="at">linewidth =</span> <span class="fl">1.2</span>, <span class="at">width =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb5-9"><a href=""></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Program"</span>, <span class="at">y =</span> <span class="st">"Performance Rating"</span>) <span class="sc">+</span></span>
<span id="cb5-10"><a href=""></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="plot-unadjusted-onboarding-model" class="slide level2" data-transition="none">
<h2>Plot Unadjusted Onboarding Model</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/unadjusted-augment-plot-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Notice the regression line jumps when we move from one group to another - there is a discontinuity.</p></li>
<li><p>The lines show ≈∑ for each group‚Äîthe <strong>programnew</strong> coefficient (13.72) is the difference between them.</p></li>
</ul>
</section>
<section id="need-for-an-adjusted-analysis" class="slide level2">
<h2>Need for an Adjusted Analysis</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>onboard_data <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href=""></a>  <span class="fu">group_by</span>(program) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href=""></a>  <span class="fu">summarize</span>(</span>
<span id="cb6-4"><a href=""></a>    <span class="at">mean_edu =</span> <span class="fu">mean</span>(education),</span>
<span id="cb6-5"><a href=""></a>    <span class="at">mean_perf =</span> <span class="fu">mean</span>(performance)</span>
<span id="cb6-6"><a href=""></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">program</th>
<th style="text-align: right;">mean_edu</th>
<th style="text-align: right;">mean_perf</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">old</td>
<td style="text-align: right;">14.6</td>
<td style="text-align: right;">66.56</td>
</tr>
<tr class="even">
<td style="text-align: left;">new</td>
<td style="text-align: right;">17.0</td>
<td style="text-align: right;">80.28</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>New-program employees have more education AND higher performance.</li>
<li>Is it the program or the education?</li>
<li>We want to control for education in a new analysis (an <strong>adjusted</strong> analysis).</li>
</ul>
</section>
<section id="prediction-question" class="slide level2 content-minimal">
<h2>Prediction Question</h2>
<p>We just saw the unadjusted effect: 13.72 points.</p>
<blockquote>
<p>‚ÄúWhat do you THINK will happen to the program coefficient when we add education to the model? Will it get bigger, smaller, or stay the same? Why?‚Äù</p>
</blockquote>
<p>üí¨ <strong>Make a prediction in the chat:</strong> Will the coefficient get bigger, smaller, or stay the same? Include your reasoning.</p>
</section>
<section id="design-matrix-visualization" class="slide level2" data-transition="none">
<h2>Design Matrix Visualization</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/matrix-algebra-combined.png" class="quarto-figure quarto-figure-center" style="width:80.0%;height:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>We have a categorical predictor with 2 levels (1 contrast column for program) and a continuous predictor (education). This is an ANCOVA.</p>
</section>
<section id="running-the-combined-model" class="slide level2 size-85">
<h2>Running the Combined Model</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a>lm_combined <span class="ot">&lt;-</span> <span class="fu">lm</span>(performance <span class="sc">~</span> program <span class="sc">+</span> education, <span class="at">data =</span> onboard_data)</span>
<span id="cb7-2"><a href=""></a><span class="fu">tidy</span>(lm_combined, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">15.541810</td>
<td style="text-align: right;">9.014763</td>
<td style="text-align: right;">1.724040</td>
<td style="text-align: right;">0.1028359</td>
<td style="text-align: right;">-3.4776764</td>
<td style="text-align: right;">34.56130</td>
</tr>
<tr class="even">
<td style="text-align: left;">programnew</td>
<td style="text-align: right;">5.333448</td>
<td style="text-align: right;">2.368914</td>
<td style="text-align: right;">2.251432</td>
<td style="text-align: right;">0.0378754</td>
<td style="text-align: right;">0.3354768</td>
<td style="text-align: right;">10.33142</td>
</tr>
<tr class="odd">
<td style="text-align: left;">education</td>
<td style="text-align: right;">3.494397</td>
<td style="text-align: right;">0.610837</td>
<td style="text-align: right;">5.720669</td>
<td style="text-align: right;">0.0000250</td>
<td style="text-align: right;">2.2056431</td>
<td style="text-align: right;">4.78315</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The <strong>intercept</strong> (15.54) represents the predicted performance for employees in the <strong>old program</strong> (the reference group) who have zero years of education.</p>
<p>The coefficient for <strong>education</strong> (3.49) indicates that each additional year of <strong>education</strong> was associated with a 3.49-point increase in performance, <em>holding program constant</em>. That is, for two people in the same program, a one-year difference in education corresponds to a 3.49-point difference in predicted performance.</p>
<p>The coefficient for <strong>programnew</strong> (5.33) indicates that employees in the <strong>new program</strong> scored 5.33 points higher than those in the old program, <em>holding education constant</em>. That is, for two people with the same education level, the difference in predicted performance across the two programs is 5.33.</p>
<div class="fragment">
<p><strong>Notably, the adjusted program effect (5.33) is substantially smaller than the unadjusted effect (13.72) we observed earlier‚Äîmuch of the apparent program benefit was actually due to education differences between groups.</strong></p>
</div>
</section>
<section id="augment-the-adjusted-onboarding-model" class="slide level2">
<h2>Augment the Adjusted Onboarding Model</h2>
<p>Make predicted scores for each person</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="co"># Create augmented data with predictions and residuals</span></span>
<span id="cb8-2"><a href=""></a>onboard_augmented <span class="ot">&lt;-</span> <span class="fu">augment</span>(lm_combined, <span class="at">data =</span> onboard_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell augment">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 6%">
<col style="width: 11%">
<col style="width: 7%">
<col style="width: 9%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">program</th>
<th style="text-align: right;">education</th>
<th style="text-align: right;">performance</th>
<th style="text-align: right;">.fitted</th>
<th style="text-align: right;">.resid</th>
<th style="text-align: right;">.hat</th>
<th style="text-align: right;">.sigma</th>
<th style="text-align: right;">.cooksd</th>
<th style="text-align: right;">.std.resid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Ivy</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">54.6</td>
<td style="text-align: right;">57.47457</td>
<td style="text-align: right;">-2.8745690</td>
<td style="text-align: right;">0.2456897</td>
<td style="text-align: right;">4.208355</td>
<td style="text-align: right;">0.0686977</td>
<td style="text-align: right;">-0.7954508</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jack</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">67.5</td>
<td style="text-align: right;">64.46336</td>
<td style="text-align: right;">3.0366379</td>
<td style="text-align: right;">0.1077586</td>
<td style="text-align: right;">4.212954</td>
<td style="text-align: right;">0.0240316</td>
<td style="text-align: right;">0.7726227</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Kate</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">65.7</td>
<td style="text-align: right;">60.96897</td>
<td style="text-align: right;">4.7310345</td>
<td style="text-align: right;">0.1551724</td>
<td style="text-align: right;">4.091338</td>
<td style="text-align: right;">0.0936916</td>
<td style="text-align: right;">1.2370513</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ian</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">64.4</td>
<td style="text-align: right;">71.45216</td>
<td style="text-align: right;">-7.0521552</td>
<td style="text-align: right;">0.1422414</td>
<td style="text-align: right;">3.843326</td>
<td style="text-align: right;">0.1851184</td>
<td style="text-align: right;">-1.8300163</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Julia</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">64.6</td>
<td style="text-align: right;">67.95776</td>
<td style="text-align: right;">-3.3577586</td>
<td style="text-align: right;">0.1034483</td>
<td style="text-align: right;">4.196301</td>
<td style="text-align: right;">0.0279371</td>
<td style="text-align: right;">-0.8522705</td>
</tr>
<tr class="even">
<td style="text-align: left;">Keith</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">63.7</td>
<td style="text-align: right;">64.46336</td>
<td style="text-align: right;">-0.7633621</td>
<td style="text-align: right;">0.1077586</td>
<td style="text-align: right;">4.284167</td>
<td style="text-align: right;">0.0015187</td>
<td style="text-align: right;">-0.1942250</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Laura</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">75.3</td>
<td style="text-align: right;">74.94655</td>
<td style="text-align: right;">0.3534483</td>
<td style="text-align: right;">0.2241379</td>
<td style="text-align: right;">4.287755</td>
<td style="text-align: right;">0.0008956</td>
<td style="text-align: right;">0.0964382</td>
</tr>
<tr class="even">
<td style="text-align: left;">Miles</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">66.0</td>
<td style="text-align: right;">64.46336</td>
<td style="text-align: right;">1.5366379</td>
<td style="text-align: right;">0.1077586</td>
<td style="text-align: right;">4.269603</td>
<td style="text-align: right;">0.0061538</td>
<td style="text-align: right;">0.3909723</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nadia</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">74.0</td>
<td style="text-align: right;">71.45216</td>
<td style="text-align: right;">2.5478448</td>
<td style="text-align: right;">0.1422414</td>
<td style="text-align: right;">4.233428</td>
<td style="text-align: right;">0.0241631</td>
<td style="text-align: right;">0.6611592</td>
</tr>
<tr class="even">
<td style="text-align: left;">Oliver</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">old</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">69.8</td>
<td style="text-align: right;">67.95776</td>
<td style="text-align: right;">1.8422414</td>
<td style="text-align: right;">0.1034483</td>
<td style="text-align: right;">4.261258</td>
<td style="text-align: right;">0.0084096</td>
<td style="text-align: right;">0.4676000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Luna</td>
<td style="text-align: right;">11</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">67.8</td>
<td style="text-align: right;">73.29121</td>
<td style="text-align: right;">-5.4912069</td>
<td style="text-align: right;">0.1862069</td>
<td style="text-align: right;">4.009876</td>
<td style="text-align: right;">0.1632350</td>
<td style="text-align: right;">-1.4629398</td>
</tr>
<tr class="even">
<td style="text-align: left;">Max</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">84.2</td>
<td style="text-align: right;">83.77440</td>
<td style="text-align: right;">0.4256034</td>
<td style="text-align: right;">0.1215517</td>
<td style="text-align: right;">4.287426</td>
<td style="text-align: right;">0.0005493</td>
<td style="text-align: right;">0.1091347</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nina</td>
<td style="text-align: right;">13</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">78.0</td>
<td style="text-align: right;">76.78560</td>
<td style="text-align: right;">1.2143966</td>
<td style="text-align: right;">0.1215517</td>
<td style="text-align: right;">4.276679</td>
<td style="text-align: right;">0.0044726</td>
<td style="text-align: right;">0.3113996</td>
</tr>
<tr class="even">
<td style="text-align: left;">Liam</td>
<td style="text-align: right;">14</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">90.6</td>
<td style="text-align: right;">90.76319</td>
<td style="text-align: right;">-0.1631897</td>
<td style="text-align: right;">0.2939655</td>
<td style="text-align: right;">4.288654</td>
<td style="text-align: right;">0.0003024</td>
<td style="text-align: right;">-0.0466762</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Megan</td>
<td style="text-align: right;">15</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">70.7</td>
<td style="text-align: right;">80.28000</td>
<td style="text-align: right;">-9.5800000</td>
<td style="text-align: right;">0.1000000</td>
<td style="text-align: right;">3.467210</td>
<td style="text-align: right;">0.2181504</td>
<td style="text-align: right;">-2.4269448</td>
</tr>
<tr class="even">
<td style="text-align: left;">Noah</td>
<td style="text-align: right;">16</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">81.8</td>
<td style="text-align: right;">76.78560</td>
<td style="text-align: right;">5.0143966</td>
<td style="text-align: right;">0.1215517</td>
<td style="text-align: right;">4.075039</td>
<td style="text-align: right;">0.0762564</td>
<td style="text-align: right;">1.2858083</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Leah</td>
<td style="text-align: right;">17</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">87.26879</td>
<td style="text-align: right;">1.1312069</td>
<td style="text-align: right;">0.1862069</td>
<td style="text-align: right;">4.277456</td>
<td style="text-align: right;">0.0069273</td>
<td style="text-align: right;">0.3013705</td>
</tr>
<tr class="even">
<td style="text-align: left;">Marcus</td>
<td style="text-align: right;">18</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">73.0</td>
<td style="text-align: right;">73.29121</td>
<td style="text-align: right;">-0.2912069</td>
<td style="text-align: right;">0.1862069</td>
<td style="text-align: right;">4.288169</td>
<td style="text-align: right;">0.0004591</td>
<td style="text-align: right;">-0.0775819</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Nora</td>
<td style="text-align: right;">19</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">88.1</td>
<td style="text-align: right;">83.77440</td>
<td style="text-align: right;">4.3256034</td>
<td style="text-align: right;">0.1215517</td>
<td style="text-align: right;">4.130819</td>
<td style="text-align: right;">0.0567456</td>
<td style="text-align: right;">1.1091857</td>
</tr>
<tr class="even">
<td style="text-align: left;">Logan</td>
<td style="text-align: right;">20</td>
<td style="text-align: left;">new</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">80.2</td>
<td style="text-align: right;">76.78560</td>
<td style="text-align: right;">3.4143966</td>
<td style="text-align: right;">0.1215517</td>
<td style="text-align: right;">4.191116</td>
<td style="text-align: right;">0.0353563</td>
<td style="text-align: right;">0.8755310</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualizing-the-adjusted-onboarding-model-code" class="slide level2" data-transition="none">
<h2>Visualizing the Adjusted Onboarding Model: Code</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href=""></a><span class="co"># Plot data points and predicted values (parallel lines)</span></span>
<span id="cb9-2"><a href=""></a><span class="fu">ggplot</span>(onboard_augmented, <span class="fu">aes</span>(<span class="at">x =</span> education,</span>
<span id="cb9-3"><a href=""></a>                               <span class="at">y =</span> performance,</span>
<span id="cb9-4"><a href=""></a>                               <span class="at">color =</span> program,</span>
<span id="cb9-5"><a href=""></a>                               <span class="at">shape =</span> program)) <span class="sc">+</span></span>
<span id="cb9-6"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href=""></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> .fitted), <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb9-8"><a href=""></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Years of Education"</span>, <span class="at">y =</span> <span class="st">"Performance Rating"</span>) <span class="sc">+</span></span>
<span id="cb9-9"><a href=""></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="plot-adjusted-onboarding-model" class="slide level2" data-transition="none">
<h2>Plot Adjusted Onboarding Model</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/combined-augment-plot-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>The parallel lines show ≈∑ for each program‚Äîthe <strong>programnew</strong> coefficient (5.33) is the vertical gap between them.</p></li>
<li><p>When we compare the height difference between the two lines we are comparing predicted performance at a <strong>common level of education</strong> (e.g., two ‚Äúpeople‚Äù with same education). <strong>This is a critical point.</strong></p></li>
</ul>
</section>
<section id="plot-adjusted-onboarding-model-3d" class="slide level2" data-transition="none">
<h2>Plot Adjusted Onboarding Model (3D)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-96370f76ce3981b27b98" style="width:768px;height:576px;"></div>
<script type="application/json" data-for="htmlwidget-96370f76ce3981b27b98">{"x":{"visdat":{"1511a6315eed9":["function () ","plotlyVisDat"],"1511a34f41b61":["function () ","data"],"1511a6319870":["function () ","data"],"1511a220ee43d":["function () ","data"],"1511a7faa7242":["function () ","data"]},"cur_data":"1511a7faa7242","attrs":{"1511a34f41b61":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":6,"color":"#F8766D"},"name":"old","inherit":true},"1511a6319870":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"lines","line":{"width":4,"color":"#F8766D"},"showlegend":false,"inherit":true},"1511a220ee43d":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":6,"color":"#00BFC4","symbol":"diamond"},"name":"new","inherit":true},"1511a7faa7242":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"lines","line":{"width":4,"color":"#00BFC4"},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"Education"},"yaxis":{"title":"Program","tickvals":[0,1],"ticktext":["old","new"]},"zaxis":{"title":"Performance"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[12,13,14,14,14,15,15,16,16,17],"y":[0,0,0,0,0,0,0,0,0,0],"z":[54.600000000000001,65.700000000000003,67.5,63.700000000000003,66,64.599999999999994,69.799999999999997,64.400000000000006,74,75.299999999999997],"type":"scatter3d","mode":"markers","marker":{"color":"#F8766D","size":6,"line":{"color":"rgba(31,119,180,1)"}},"name":"old","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"frame":null},{"x":[12,13,14,14,14,15,15,16,16,17],"y":[0,0,0,0,0,0,0,0,0,0],"z":[57.47456896551725,60.968965517241386,64.463362068965523,64.463362068965523,64.463362068965523,67.95775862068966,67.95775862068966,71.452155172413796,71.452155172413796,74.946551724137933],"type":"scatter3d","mode":"lines","line":{"color":"#F8766D","width":4},"showlegend":false,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"frame":null},{"x":[15,15,16,16,16,17,18,18,19,20],"y":[1,1,1,1,1,1,1,1,1,1],"z":[67.799999999999997,73,78,81.799999999999997,80.200000000000003,70.700000000000003,84.200000000000003,88.099999999999994,88.400000000000006,90.599999999999994],"type":"scatter3d","mode":"markers","marker":{"color":"#00BFC4","size":6,"symbol":"diamond","line":{"color":"rgba(44,160,44,1)"}},"name":"new","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"frame":null},{"x":[15,15,16,16,16,17,18,18,19,20],"y":[1,1,1,1,1,1,1,1,1,1],"z":[73.291206896551728,73.291206896551728,76.785603448275864,76.785603448275864,76.785603448275864,80.280000000000001,83.774396551724138,83.774396551724138,87.268793103448274,90.763189655172411],"type":"scatter3d","mode":"lines","line":{"color":"#00BFC4","width":4},"showlegend":false,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The two parallel lines from the 2D plot are now shown in 3D space, where the y-axis represents the categorical program variable.</p>
</section>
<section id="compare-the-two-models" class="slide level2 content-light">
<h2>Compare the Two Models</h2>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 48%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Model</th>
<th style="text-align: right;">Program Coefficient</th>
<th style="text-align: left;">What it means</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Program only</td>
<td style="text-align: right;">13.72</td>
<td style="text-align: left;">Raw difference in group means</td>
</tr>
<tr class="even">
<td style="text-align: left;">Program + Education</td>
<td style="text-align: right;">5.33</td>
<td style="text-align: left;">Difference holding education constant</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="the-coefficient-dropped" class="slide level2" data-transition="none">
<h2>The Coefficient Dropped!</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/coefficient-change-visual-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p>Most of the apparent program effect may have been due to education differences between the groups.</p>
<p><strong>Why did it drop?</strong> The unadjusted coefficient (13.72) included BOTH the program effect AND the education difference between groups. When we account for education (by including it as a predictor), we‚Äôre left with ONLY the program effect (5.33). The ‚Äúmissing‚Äù 8.39 points were confounded with education differences between the groups‚Äîwe can‚Äôt attribute them to the program alone.</p>
</section>
<section id="quick-check-the-coefficient-drop" class="slide level2 content-light">
<h2>Quick Check: The Coefficient Drop</h2>
<p>We just saw the program coefficient drop from 13.72 to 5.33.</p>
<p><strong>Zoom reactions:</strong> - üëç if this result surprises you - ü§î if you predicted something like this would happen</p>
<p>üí¨ <strong>Chat:</strong> In ONE sentence, explain to a friend why the coefficient got smaller when we added education.</p>
</section>
<section id="why-coefficients-change-summary" class="slide level2 content-light">
<h2>‚úì Why Coefficients Change: Summary</h2>
<table class="caption-top">
<colgroup>
<col style="width: 20%">
<col style="width: 42%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th>Analysis</th>
<th>Program Coefficient</th>
<th>What It Captures</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Unadjusted</strong> (program only)</td>
<td>13.72</td>
<td>Program effect + Education effect (mixed together)</td>
</tr>
<tr class="even">
<td><strong>Adjusted</strong> (program + education)</td>
<td>5.33</td>
<td>Program effect ONLY (education removed)</td>
</tr>
</tbody>
</table>
<p>The difference (13.72 ‚àí 5.33 = 8.39 points) was due to education, not the program.</p>
<div class="fragment">
<p><strong>üë• Turn to a neighbor (or type in chat):</strong> In your own words, WHY did the coefficient get smaller?</p>
<p><em>You have 60 seconds. Use plain language‚Äîno jargon!</em></p>
</div>
</section>
<section id="where-did-the-8.39-points-go" class="slide level2 content-light" data-transition="none">
<h2>Where Did the 8.39 Points Go?</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/coefficient-decomposition-1.png" class="quarto-figure quarto-figure-center" width="864"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="prediction-what-do-you-expect-to-see" class="slide level2 content-light">
<h2>Prediction: What Do You Expect to See?</h2>
<p>We‚Äôre about to see a Venn diagram showing how Program, Education, and Performance relate to each other.</p>
<blockquote>
<p><strong>Make a prediction:</strong> Given what we‚Äôve learned about confounding, what do you expect the diagram to show about the relationship between Program and Education?</p>
</blockquote>
<p>üí¨ <strong>Chat:</strong> Do you think Program and Education will:</p>
<ul>
<li><ol type="A">
<li>Have a lot of overlap (highly related)</li>
</ol></li>
<li><ol start="2" type="A">
<li>Have some overlap (moderately related)</li>
</ol></li>
<li><ol start="3" type="A">
<li>Have no overlap (unrelated)</li>
</ol></li>
</ul>
<p><em>Think about WHY before you answer!</em></p>
</section>
<section id="the-venn-diagram-intuition" class="slide level2" data-transition="none">
<h2>The Venn Diagram Intuition</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/venn-diagram-intuition-1.png" class="quarto-figure quarto-figure-center" width="576"></p>
</figure>
</div>
</div>
</div>
<div class="smaller" style="font-size: 0.75em;">
<p><strong>Key insight:</strong> Program and Education OVERLAP in what they explain about Performance.</p>
<ul>
<li><strong>Unique regions:</strong> Each predictor‚Äôs adjusted coefficient reflects only the variance it explains that the other predictor cannot.</li>
<li><strong>Ambiguous region:</strong> The overlap is variance that <em>either</em> predictor could explain‚Äîwe cannot attribute it to one or the other.</li>
<li><strong>The unadjusted coefficient was inflated:</strong> When education was omitted from the model, program‚Äôs coefficient captured both its unique effect AND variance from the ambiguous region. Adding education removes that confounded portion from program‚Äôs coefficient.</li>
</ul>
</div>
</section>
<section id="limitations-of-the-venn-diagram-metaphor" class="slide level2">
<h2>Limitations of the Venn Diagram Metaphor</h2>
<p>The Venn diagram is a useful teaching tool, but it oversimplifies variance partitioning.</p>
<p><strong>The ‚Äúshared‚Äù variance can be negative</strong></p>
<p>If we calculate the overlap as:</p>
<p><span class="math display">\[\text{Shared} = R^2 - sr_1^2 - sr_2^2\]</span></p>
<p>This value becomes negative when <strong>suppressor effects</strong> occur‚Äîwhen the unique contributions sum to <em>more</em> than <span class="math inline">\(R^2\)</span>. This happens when predictors enhance each other‚Äôs predictive power rather than redundantly explaining the same variance.</p>
<p>A negative area makes no sense in a Venn diagram!</p>
<p><strong>Even when positive, ‚Äúshared‚Äù is a misnomer</strong></p>
<p>The overlap doesn‚Äôt truly ‚Äúbelong‚Äù to both predictors. It‚Äôs better described as <strong>ambiguous variance</strong>‚Äîvariance we simply cannot attribute to either predictor uniquely.</p>
<p>The Venn diagram implies the overlap is a real, identifiable quantity. In reality, it‚Äôs just the leftover from a mathematical decomposition.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Bottom Line</strong></p>
</div>
<div class="callout-content">
<p>Venn diagrams illustrate <em>unique</em> variance well, but treat the ‚Äúshared‚Äù region with caution‚Äîit‚Äôs not a meaningful quantity we can interpret or assign.</p>
</div>
</div>
</div>
</section>
<section id="key-interpretation-skill" class="slide level2 content-minimal">
<h2>üéØ Key Interpretation Skill</h2>
<p>Correctly interpreting regression coefficients is <strong>the single most important interpretation skill</strong> in multiple regression.</p>
<p>If someone asks ‚ÄúWhat does this coefficient mean?‚Äù‚Äîyou need to be able to answer it.</p>
<p>On the regression output slide you saw previously ‚ÄúRunning the Combined Model‚Äù we provided correct interpretations.</p>
</section>
<section id="the-critical-interpretation-change" class="slide level2 content-light">
<h2>The Critical Interpretation Change</h2>
<p>When we have multiple predictors, each coefficient has a new meaning:</p>
<blockquote>
<p>‚ÄúThe expected change in Y for a one-unit increase in X, <strong>holding all other predictors constant</strong>‚Äù</p>
</blockquote>
<p>When we have a continuous variable, the one-unit increase in X is fairly easy to understand.</p>
<p>When we have categorical predictors (i.e., contrast columns) it is the same principle. Each contrast column has 0 or 1 so a one-unit increase refers to moving from the reference group to the contrast group.</p>
</section>
<section id="the-critical-interpretation-change-example" class="slide level2 content-light">
<h2>The Critical Interpretation Change: Example</h2>
<p>The coefficient for <strong>education</strong> (3.49) indicates that each additional year of <strong>education</strong> was associated with a 3.49-point increase in performance, <em>holding program constant</em>. That is, for two people in the same program, a one-year difference in education corresponds to a 3.49-point difference in predicted performance.</p>
<p>The coefficient for <strong>programnew</strong> (5.33) indicates that employees in the <strong>new program</strong> scored 5.33 points higher than those in the old program, <em>holding education constant</em>. That is, for two people with the same education level, the difference in predicted performance across the two programs is 5.33.</p>
</section>
<section id="what-the-adjusted-coefficient-means" class="slide level2 content-light">
<h2>What the Adjusted Coefficient Means</h2>
<blockquote>
<p>‚ÄúThe adjusted coefficient answers: <strong>If we compare two employees with the SAME education level, how much higher would we expect the new-program employee‚Äôs performance to be?</strong>‚Äù</p>
</blockquote>
<p>Alternative phrasings:</p>
<ul>
<li>‚ÄúComparing employees with identical education‚Ä¶‚Äù</li>
<li>‚ÄúAmong people with equal educational backgrounds‚Ä¶‚Äù</li>
<li>‚ÄúAfter accounting for education differences‚Ä¶‚Äù</li>
</ul>
</section>
<section id="coefficient-interpretation-cheat-sheet" class="slide level2">
<h2>Coefficient Interpretation Cheat Sheet</h2>
<table class="caption-top">
<colgroup>
<col style="width: 25%">
<col style="width: 54%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Analysis Type</th>
<th>What the Coefficient Represents</th>
<th>Key Phrase</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Unadjusted</strong> (one predictor)</td>
<td>Raw difference between group means</td>
<td>‚ÄúThe difference in means‚Ä¶‚Äù</td>
</tr>
<tr class="even">
<td><strong>Adjusted</strong> (multiple predictors)</td>
<td>Difference between groups <strong>at the same level of the covariate</strong></td>
<td>‚ÄúHolding X constant‚Ä¶‚Äù or ‚ÄúFor people with the same X‚Ä¶‚Äù</td>
</tr>
</tbody>
</table>
<p><strong>Decision Guide:</strong></p>
<pre><code>Do groups differ on another variable that predicts the outcome?
    ‚îÇ
    ‚îú‚îÄ‚ñ∫ YES ‚Üí Report BOTH unadjusted AND adjusted
    ‚îÇ         (adjusted is usually more meaningful)
    ‚îÇ
    ‚îî‚îÄ‚ñ∫ NO ‚Üí Unadjusted comparison is appropriate
             (but consider what you might be missing!)</code></pre>
</section>
<section id="quick-check" class="slide level2 content-light">
<h2>Quick Check</h2>
<blockquote>
<p><strong>Before moving on:</strong> Why might comparing ‚Äúraw‚Äù group means be misleading when groups differ on another variable?</p>
</blockquote>
<p>üí¨ <strong>Chat:</strong> Give an example from everyday life where comparing raw averages would be misleading.</p>
<p>This is the heart of why ‚Äúholding constant‚Äù matters.</p>
</section>
<section id="everyday-analogy-holding-constant" class="slide level2 content-light">
<h2>Everyday Analogy: Holding Constant</h2>
<p><strong>‚ÄúHolding constant‚Äù is like making a fair comparison.</strong></p>
<p>Imagine comparing two cars‚Äô fuel efficiency. If Car A drives at 60 mph and Car B drives at 30 mph, any difference in fuel use might be about speed, not the cars themselves.</p>
<p>To make a fair comparison, we‚Äôd test both cars <strong>at the same speed</strong>‚Äîwe ‚Äúhold speed constant.‚Äù</p>
<p>That‚Äôs exactly what we do with education: compare employees <strong>at the same education level</strong> to isolate the program effect.</p>
</section>
<section id="more-holding-constant-examples" class="slide level2 content-light">
<h2>More ‚ÄúHolding Constant‚Äù Examples</h2>
<p><strong>You already think this way in everyday life:</strong></p>
<table class="caption-top">
<colgroup>
<col style="width: 33%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th>Unfair comparison</th>
<th>Fair comparison (‚Äúholding constant‚Äù)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>‚ÄúMen earn more than women‚Äù</td>
<td>‚ÄúMen earn more than women <em>in the same job</em>‚Äù</td>
</tr>
<tr class="even">
<td>‚ÄúPrivate schools have better test scores‚Äù</td>
<td>‚ÄúPrivate schools have better scores <em>among students with similar family income</em>‚Äù</td>
</tr>
<tr class="odd">
<td>‚ÄúDrug A works better than Drug B‚Äù</td>
<td>‚ÄúDrug A works better <em>for patients with the same severity</em>‚Äù</td>
</tr>
</tbody>
</table>
<p>The phrase ‚Äúholding constant‚Äù just means: <strong>‚Äúcomparing apples to apples.‚Äù</strong></p>
</section>
<section id="common-misconception-are-we-comparing-identical-people" class="slide level2 content-light">
<h2>Common Misconception: Are We Comparing Identical People?</h2>
<blockquote>
<p><strong>Student question:</strong> ‚ÄúWhen we ‚Äòhold education constant,‚Äô are we literally comparing people with exactly the same education?‚Äù</p>
</blockquote>
<p><strong>Answer:</strong> Not exactly. We‚Äôre using statistics to <em>estimate</em> what the comparison would look like if we could compare people with the same education.</p>
</section>
<section id="common-misconception-are-we-comparing-identical-people-continued" class="slide level2 content-light">
<h2>Common Misconception: Are We Comparing Identical People? (continued)</h2>
<p>Think of it this way:</p>
<ul>
<li>We don‚Äôt have two employees with <em>identical</em> backgrounds</li>
<li>It‚Äôs a mathematical adjustment, not a literal matching</li>
<li>But the regression <em>estimates</em> the program difference as if we did</li>
<li>We are reporting the difference in the elevation of the two parts of the regression line (new vs old program). That is, the difference in the regression estimates.</li>
</ul>
<p><strong>Analogy:</strong> Weather forecasters don‚Äôt actually travel to the future‚Äîthey use models to <em>estimate</em> tomorrow‚Äôs temperature. Similarly, we use regression to <em>estimate</em> fair comparisons.</p>
</section>
<section id="comparing-ian-and-nina" class="slide level2 content-minimal">
<h2>Comparing Ian and Nina</h2>
<p>To see what ‚Äúholding education constant‚Äù means, let‚Äôs compare two employees with the <strong>same education</strong> (16 years): <strong>Ian</strong> (old program) and <strong>Nina</strong> (new program).</p>
<div title="These Are Real Data Points">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>These Are Real Data Points</strong></p>
</div>
<div class="callout-content">
<p>Ian and Nina are actual employees from our dataset‚Äînot hypothetical examples. Ian really has 16 years of education with a performance score of 64.4. Nina really has 16 years of education with a performance score of 78. This makes their comparison concrete: two real people with identical education levels but different programs.</p>
</div>
</div>
</div>
</div>
</section>
<section id="ians-calculation-old-program" class="slide level2 content-light">
<h2>Ian‚Äôs Calculation (Old Program)</h2>
<p>Ian‚Äôs row: Int = 1, program = 0, education = 16</p>
<table class="caption-top">
<colgroup>
<col style="width: 24%">
<col style="width: 44%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>What we do</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Write the equation</td>
<td>≈∑ = 15.54(Int) + 5.33(program) + 3.49(education)</td>
</tr>
<tr class="even">
<td>2</td>
<td>Plug in Ian‚Äôs values</td>
<td>≈∑ = 15.54(1) + 5.33(0) + 3.49(16)</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Calculate</td>
<td>15.54 + 0 + 55.84 = 71.38</td>
</tr>
</tbody>
</table>
<p><strong>Ian‚Äôs predicted performance is 71.38</strong></p>
</section>
<section id="ninas-calculation-new-program" class="slide level2 content-light">
<h2>Nina‚Äôs Calculation (New Program)</h2>
<p>Nina‚Äôs row: Int = 1, program = 1, education = 16</p>
<table class="caption-top">
<colgroup>
<col style="width: 24%">
<col style="width: 44%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>What we do</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Write the equation</td>
<td>≈∑ = 15.54(Int) + 5.33(program) + 3.49(education)</td>
</tr>
<tr class="even">
<td>2</td>
<td>Plug in Nina‚Äôs values</td>
<td>≈∑ = 15.54(1) + 5.33(1) + 3.49(16)</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Calculate</td>
<td>15.54 + 5.33 + 55.84 = 76.71</td>
</tr>
</tbody>
</table>
<p><strong>Nina‚Äôs predicted performance is 76.71</strong></p>
</section>
<section id="the-key-comparison" class="slide level2 content-light">
<h2>The Key Comparison</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Person</th>
<th>Program</th>
<th>Education</th>
<th>≈∑</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ian</td>
<td>old (0)</td>
<td>16</td>
<td>71.38</td>
</tr>
<tr class="even">
<td>Nina</td>
<td>new (1)</td>
<td>16</td>
<td>76.71</td>
</tr>
<tr class="odd">
<td><strong>Difference</strong></td>
<td></td>
<td></td>
<td><strong>5.33</strong></td>
</tr>
</tbody>
</table>
<p>Ian and Nina have the <strong>SAME education</strong> (16 years). The difference in their predictions (76.71 - 71.38 = <strong>5.33</strong>) is exactly the program coefficient!</p>
<p><strong>This is what ‚Äúholding education constant‚Äù means.</strong></p>
</section>
<section id="what-holding-constant-means-summary" class="slide level2 content-light">
<h2>‚úì What ‚ÄúHolding Constant‚Äù Means: Summary</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Concept</th>
<th>Example from Ian &amp; Nina</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Same covariate value</td>
<td>Both have 16 years education</td>
</tr>
<tr class="even">
<td>Different group</td>
<td>Ian = old program, Nina = new program</td>
</tr>
<tr class="odd">
<td>Predicted difference</td>
<td>76.71 - 71.38 = 5.33 points</td>
</tr>
<tr class="even">
<td>This equals‚Ä¶</td>
<td>The program coefficient!</td>
</tr>
</tbody>
</table>
<p><strong>Key insight:</strong> The coefficient answers ‚Äúwhat if we could compare people who are identical except for group membership?‚Äù</p>
<p><strong>We typically won‚Äôt have two people like Ian and Nina where we can make this comparison. We need to base the comparison on the difference in the regression lines as reflected in the regression coefficient.</strong></p>
</section>
<section id="quick-discussion" class="slide level2 content-light">
<h2>Quick Discussion</h2>
<blockquote>
<p>‚ÄúWhat does ‚Äòholding education constant‚Äô mean, using the Ian and Nina example?‚Äù</p>
</blockquote>
<p><strong>Rules:</strong></p>
<ul>
<li>Use plain English (no jargon like ‚Äúcontrolling for‚Äù or ‚Äúcovariate‚Äù)</li>
<li>Imagine explaining to a friend who hasn‚Äôt taken this class</li>
</ul>
</section>
<section id="polling-question-4-holding-constant" class="slide level2 content-light">
<h2>Polling Question 4: Holding Constant</h2>
<p>This is the key concept. Take your time.</p>
<blockquote>
<p>The unadjusted program coefficient was 13.72. After adding education, it dropped to 5.33. What does 5.33 represent?</p>
</blockquote>
<ul>
<li><ol type="A">
<li>The difference between program means, ignoring education</li>
</ol></li>
<li><ol start="2" type="A">
<li>The expected program difference for employees with the SAME education level</li>
</ol></li>
<li><ol start="3" type="A">
<li>The average education difference between groups</li>
</ol></li>
<li><ol start="4" type="A">
<li>The correlation between program and education</li>
</ol></li>
</ul>
</section>
<section id="polling-question-4-answer" class="slide level2 content-light">
<h2>Polling Question 4: Answer</h2>
<p><strong>Correct answer: B) The expected program difference for employees with the SAME education level</strong></p>
<p>This is ‚Äúholding constant‚Äù in action:</p>
<ul>
<li><strong>A is wrong:</strong> That‚Äôs what the <em>unadjusted</em> coefficient (13.72) represents</li>
<li><strong>B is correct:</strong> The adjusted coefficient (5.33) compares employees with equal education</li>
<li><strong>C is wrong:</strong> That‚Äôs a descriptive statistic, not a regression coefficient</li>
<li><strong>D is wrong:</strong> Correlation is a separate statistic (and would be between 0 and 1)</li>
</ul>
</section>
<section id="additional-statistics-onboarding-models" class="slide level2">
<h2>Additional Statistics: Onboarding Models</h2>
<p><strong>R¬≤ from glance() for both models:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a><span class="fu">glance</span>(lm_program_only)  <span class="co"># Unadjusted model</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 2%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">r.squared</th>
<th style="text-align: right;">adj.r.squared</th>
<th style="text-align: right;">sigma</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">df</th>
<th style="text-align: right;">logLik</th>
<th style="text-align: right;">AIC</th>
<th style="text-align: right;">BIC</th>
<th style="text-align: right;">deviance</th>
<th style="text-align: right;">df.residual</th>
<th style="text-align: right;">nobs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.5222774</td>
<td style="text-align: right;">0.4957373</td>
<td style="text-align: right;">6.915763</td>
<td style="text-align: right;">19.67877</td>
<td style="text-align: right;">0.000319</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-66.00123</td>
<td style="text-align: right;">138.0025</td>
<td style="text-align: right;">140.9897</td>
<td style="text-align: right;">860.9</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">20</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a><span class="fu">glance</span>(lm_combined)      <span class="co"># Adjusted model</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 2%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">r.squared</th>
<th style="text-align: right;">adj.r.squared</th>
<th style="text-align: right;">sigma</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">df</th>
<th style="text-align: right;">logLik</th>
<th style="text-align: right;">AIC</th>
<th style="text-align: right;">BIC</th>
<th style="text-align: right;">deviance</th>
<th style="text-align: right;">df.residual</th>
<th style="text-align: right;">nobs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.8366795</td>
<td style="text-align: right;">0.8174653</td>
<td style="text-align: right;">4.160872</td>
<td style="text-align: right;">43.54491</td>
<td style="text-align: right;">0.0000002</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-55.26807</td>
<td style="text-align: right;">118.5361</td>
<td style="text-align: right;">122.5191</td>
<td style="text-align: right;">294.3185</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">20</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="additional-statistics-onboarding-models-1b" class="slide level2 smaller">
<h2>Additional Statistics: Onboarding Models 1b</h2>
<p><strong>95% Confidence Intervals for R¬≤ using MBESS:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a><span class="fu">library</span>(MBESS)</span>
<span id="cb13-2"><a href=""></a></span>
<span id="cb13-3"><a href=""></a><span class="co"># For unadjusted model: df.1 = number of predictors, df.2 = residual df</span></span>
<span id="cb13-4"><a href=""></a><span class="fu">ci.R2</span>(<span class="at">R2 =</span> <span class="fu">glance</span>(lm_program_only)<span class="sc">$</span>r.squared,</span>
<span id="cb13-5"><a href=""></a>      <span class="at">df.1 =</span> <span class="dv">1</span>,   <span class="co"># 1 predictor (program)</span></span>
<span id="cb13-6"><a href=""></a>      <span class="at">df.2 =</span> <span class="fu">glance</span>(lm_program_only)<span class="sc">$</span>df.residual,</span>
<span id="cb13-7"><a href=""></a>      <span class="at">conf.level =</span> <span class="fl">0.95</span>,</span>
<span id="cb13-8"><a href=""></a>      <span class="at">Random.Predictors =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Lower.Conf.Limit.R2
[1] 0.1617987

$Prob.Less.Lower
[1] 0.025

$Upper.Conf.Limit.R2
[1] 0.6997411

$Prob.Greater.Upper
[1] 0.025</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a><span class="co"># For adjusted model: 2 predictors (program + education)</span></span>
<span id="cb15-2"><a href=""></a><span class="fu">ci.R2</span>(<span class="at">R2 =</span> <span class="fu">glance</span>(lm_combined)<span class="sc">$</span>r.squared,</span>
<span id="cb15-3"><a href=""></a>      <span class="at">df.1 =</span> <span class="dv">2</span>,   <span class="co"># 2 predictors</span></span>
<span id="cb15-4"><a href=""></a>      <span class="at">df.2 =</span> <span class="fu">glance</span>(lm_combined)<span class="sc">$</span>df.residual,</span>
<span id="cb15-5"><a href=""></a>      <span class="at">conf.level =</span> <span class="fl">0.95</span>,</span>
<span id="cb15-6"><a href=""></a>      <span class="at">Random.Predictors =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Lower.Conf.Limit.R2
[1] 0.604957

$Prob.Less.Lower
[1] 0.025

$Upper.Conf.Limit.R2
[1] 0.893118

$Prob.Greater.Upper
[1] 0.025</code></pre>
</div>
</div>
</section>
<section id="additional-statistics-onboarding-models-2" class="slide level2 smaller">
<h2>Additional Statistics: Onboarding Models 2</h2>
<p><strong>Cohen‚Äôs d for unadjusted comparison:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a><span class="fu">library</span>(effsize)</span>
<span id="cb17-2"><a href=""></a><span class="fu">cohen.d</span>(performance <span class="sc">~</span> program, <span class="at">data =</span> onboard_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Cohen's d

d estimate: -1.983874 (large)
95 percent confidence interval:
     lower      upper 
-3.1315116 -0.8362358 </code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="co"># Calculate Partial Eta Squared for adjusted models</span></span>
<span id="cb19-2"><a href=""></a><span class="fu">library</span>(effectsize)</span>
<span id="cb19-3"><a href=""></a><span class="fu">eta_squared</span>(lm_combined, <span class="at">partial =</span> <span class="cn">TRUE</span>, <span class="at">ci =</span> <span class="fl">0.90</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># Effect Size for ANOVA (Type I)

Parameter | Eta2 (partial) |       90% CI
-----------------------------------------
program   |           0.76 | [0.62, 1.00]
education |           0.66 | [0.47, 1.00]

- One-sided CIs: upper bound fixed at [1.00].</code></pre>
</div>
</div>
<div title="Warning: Effect Sizes in Adjusted Models">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Warning: Effect Sizes in Adjusted Models</strong></p>
</div>
<div class="callout-content">
<p><strong>Be careful:</strong> The Cohen‚Äôs <em>d</em> calculated here is based on <strong>raw</strong> group means. It reflects the <strong>unadjusted</strong> difference.</p>
<p>You cannot simply report this <em>d</em> alongside your adjusted coefficient (<span class="math inline">\(b\)</span>) because they answer different questions. For adjusted analyses, you should report <strong>Partial Eta Squared</strong> (<span class="math inline">\(\eta^2_p\)</span>) or explicitly state that the <span class="math inline">\(d\)</span> applies only to the raw difference.</p>
</div>
</div>
</div>
</div>
</section>
<section id="additional-statistics-onboarding-models-3" class="slide level2 smaller">
<h2>Additional Statistics: Onboarding Models 3</h2>
<p><strong>Descriptive Statistics by Program:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href=""></a>onboard_data <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href=""></a>  <span class="fu">group_by</span>(program) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href=""></a>  <span class="fu">summarize</span>(<span class="at">mean_performance =</span> <span class="fu">mean</span>(performance),</span>
<span id="cb21-4"><a href=""></a>            <span class="at">sd_performance =</span> <span class="fu">sd</span>(performance),</span>
<span id="cb21-5"><a href=""></a>            <span class="at">mean_education =</span> <span class="fu">mean</span>(education),</span>
<span id="cb21-6"><a href=""></a>            <span class="at">n =</span> <span class="fu">n</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">program</th>
<th style="text-align: right;">mean_performance</th>
<th style="text-align: right;">sd_performance</th>
<th style="text-align: right;">mean_education</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">old</td>
<td style="text-align: right;">66.56</td>
<td style="text-align: right;">5.810948</td>
<td style="text-align: right;">14.6</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="even">
<td style="text-align: left;">new</td>
<td style="text-align: right;">80.28</td>
<td style="text-align: right;">7.866921</td>
<td style="text-align: right;">17.0</td>
<td style="text-align: right;">10</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="results-paragraph-onboarding-1" class="slide level2 results-paragraph">
<h2>Results Paragraph: Onboarding 1</h2>
<p>We examined whether the new onboarding program improved performance ratings compared to the old program (<em>N</em> = 20). We conducted two analyses: one comparing programs directly, and one accounting for employees‚Äô education levels.</p>
<p><strong>Unadjusted analysis.</strong> Old-program employees (<em>n</em> = 10) had a mean performance of 66.56 (<em>SD</em> = 5.81). New-program employees (<em>n</em> = 10) had a mean performance of 80.28 (<em>SD</em> = 7.87); this is 13.72 points higher than old-program employees. Without adjusting for education, this difference was statistically significant, <em>b</em> = 13.72, 95% CI [7.22, 20.22], <em>t</em>(18) = 4.44, <em>p</em> &lt; .001, <em>d</em> = 1.98, see Table 1. The unadjusted model explained 52.2% of variance, <em>R</em>¬≤ = 0.52, 95% CI [0.16, 0.7]. Based on this analysis alone, we might conclude that the new program substantially improves performance.</p>
</section>
<section id="results-paragraph-onboarding-2" class="slide level2 results-paragraph">
<h2>Results Paragraph: Onboarding 2</h2>
<p><strong>Adjusted analysis.</strong> However, the two groups differed in education: new-program employees had more education (<em>M</em> = 17 years) compared to old-program employees (<em>M</em> = 14.6 years). This education imbalance could inflate the apparent program effect. To address this confound, we conducted a multiple regression analysis that included both program type and education as predictors. In multiple regression, each predictor‚Äôs coefficient represents its unique association with the outcome after accounting for the other predictors. Thus, the program coefficient from this model estimates the difference between programs for employees with the same level of education.</p>
</section>
<section id="results-paragraph-onboarding-3" class="slide level2 results-paragraph">
<h2>Results Paragraph: Onboarding 3</h2>
<p>The adjusted regression model is presented in Table 2. After adjusting for education, new-program employees scored only 5.33 points higher than old-program employees who had the same education level, <em>b</em> = 5.33, 95% CI [0.34, 10.33], <em>t</em>(17) = 2.25, <em>p</em> = .038, <span class="math inline">\(\eta^2_p\)</span> = 0.76, 90% CI [0.62, 1]. The adjusted model explained 83.7% of variance, <em>R</em>¬≤ = 0.84, 95% CI [0.6, 0.89]. This ‚Äúadjusted‚Äù comparison asks: if we compare two employees with identical education, how would their performance differ depending on which program they completed? The answer is that the new-program employee would score about 5.33 points higher.</p>
</section>
<section id="results-paragraph-onboarding-4" class="slide level2 results-paragraph">
<h2>Results Paragraph: Onboarding 4</h2>
<p><strong>Comparing unadjusted and adjusted findings.</strong> The program coefficient dropped substantially from 13.72 points in the unadjusted analysis to 5.33 points when controlling for education‚Äîa reduction of 8.39 points (61%). This indicates that much of the apparent program advantage was attributable to education differences between groups rather than the program itself. When we compare employees with equivalent education levels, the new program‚Äôs benefit is considerably smaller than the raw group difference suggested.</p>
</section>
<section id="polling-question-5" class="slide level2 content-light">
<h2>Polling Question 5</h2>
<p>This tests whether you understand ‚Äúholding constant.‚Äù</p>
<blockquote>
<p>In the model <code>performance ~ program + education</code>, the education coefficient is 3.49. What does this mean?</p>
</blockquote>
<ul>
<li><ol type="A">
<li>Education has no effect on performance</li>
</ol></li>
<li><ol start="2" type="A">
<li>For each additional year of education, performance is expected to increase by 3.49 points, holding program constant</li>
</ol></li>
<li><ol start="3" type="A">
<li>The mean education is 3.49 years</li>
</ol></li>
<li><ol start="4" type="A">
<li>Program explains 3.49% of the variance</li>
</ol></li>
</ul>
</section>
<section id="polling-question-5-answer" class="slide level2 content-light">
<h2>Polling Question 5: Answer</h2>
<p><strong>Correct answer: B) For each additional year of education, performance is expected to increase by 3.49 points, holding program constant</strong></p>
<p>‚ÄúHolding constant‚Äù applies to ALL coefficients in multiple regression:</p>
<ul>
<li>The education coefficient (3.49) = expected change in performance for +1 year of education, <strong>comparing people in the same program</strong></li>
<li>The program coefficient (5.33) = expected program difference, <strong>comparing people with the same education</strong></li>
</ul>
<p>Every coefficient is interpreted ‚Äúholding all other predictors constant.‚Äù</p>
</section>
<section id="part-5-centering" class="slide level2 section-header" data-background="linear-gradient(135deg, #742E00 0%, #8E3F00 50%, #A25400 100%)" data-transition="none">
<h2>Part 5: Centering</h2>
</section>
<section id="making-the-intercept-meaningful" class="slide level2 content-light">
<h2>Making the Intercept Meaningful</h2>
<p>The intercept (15.5) represents predicted performance when education = 0 years. But nobody has 0 years of education!</p>
<p><strong>Solution: Grand Mean center the continuous predictor</strong> by subtracting the mean. This shifts the ‚Äúzero point‚Äù to a meaningful value. We say it is grand mean centering when we subtract the mean for the entire data set.</p>
</section>
<section id="grand-mean-centering-a-visual-explanation" class="slide level2" data-transition="none">
<h2>Grand Mean Centering: A Visual Explanation</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/centering-number-line-1.png" class="quarto-figure quarto-figure-center" width="864"></p>
</figure>
</div>
</div>
</div>
<p>After centering, the intercept = predicted performance at <strong>mean</strong> education (15.8 years‚Äîa realistic person!)</p>
</section>
<section id="grand-mean-centering-a-visual-animation" class="slide level2" data-transition="none">
<h2>Grand Mean Centering: A Visual Animation</h2>
<style>
  #center-anim-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 65vh;
    width: 100%;
  }

  #center-anim-container {
    width: 100%;
    max-width: 1920px;
    aspect-ratio: 1920 / 360;
    padding: 0;
    margin: 0 auto;
  }

  #center-anim-container svg {
    width: 100%;
    height: 100%;
    display: block;
  }

  .ca-title {
    font-size: 28px;
    font-weight: bold;
    text-anchor: middle;
    transition: fill 2s ease-in-out;
  }

  .ca-axis-label {
    font-size: 28px;
    font-weight: bold;
    text-anchor: middle;
  }

  .ca-tick-label {
    font-size: 24px;
    font-weight: bold;
    text-anchor: middle;
  }

  .ca-annotation {
    font-size: 36px;
    font-weight: bold;
    text-anchor: middle;
  }

  .ca-mean-label {
    font-size: 28px;
    font-weight: bold;
    text-anchor: middle;
  }

  .ca-hidden {
    opacity: 0;
    pointer-events: none;
  }

  .ca-fade-in {
    transition: opacity 0.5s ease-in-out;
  }

  .ca-data-point {
    transition: cx 2s ease-in-out, fill 2s ease-in-out;
  }

  .ca-mean-marker {
    transition: cx 2s ease-in-out, fill 2s ease-in-out;
  }
</style>
<div id="center-anim-wrapper">
<div id="center-anim-container">

</div>
</div>
<div class="fragment" data-fragment-index="1">

</div>
<div class="fragment" data-fragment-index="2">

</div>
<div class="fragment" data-fragment-index="3">

</div>
<div class="fragment" data-fragment-index="4">

</div>
<div class="fragment" data-fragment-index="5">

</div>
<div class="fragment" data-fragment-index="6">

</div>
<div class="fragment" data-fragment-index="7">

</div>
<div class="fragment" data-fragment-index="8">

</div>
<div class="fragment" data-fragment-index="9">

</div>
<script>
(function() {
  var eduVals = [12, 14, 13, 16, 15, 14, 17, 14, 16, 15,
                 15, 18, 16, 20, 17, 16, 19, 15, 18, 16];
  var actualMean = 15.8;
  var jitterOffsets = [
     0.1244418130,  0.1311226240, -0.0641581396,  0.0991342878,  0.0425236557,
     0.0057287847,  0.0709764944, -0.1096000208,  0.0470976871,  0.0615194352,
    -0.0126774671,  0.0657336755,  0.1304016741, -0.0733713527, -0.0113121532,
     0.1320043568,  0.1434679285, -0.1147537915, -0.0075008755,  0.0180998239
  ];

  var svgWidth = 1920, svgHeight = 360;
  var marginLeft = 100, marginRight = 100;
  var axisY = 230, pointBaseY = 150, jitterScale = 250;
  var axisMin = -6, axisMax = 22, axisRange = axisMax - axisMin;

  function valueToX(val) {
    return marginLeft + (val - axisMin) * ((svgWidth - marginLeft - marginRight) / axisRange);
  }

  var svgNS = "http://www.w3.org/2000/svg";
  var svg = null;

  function createLine(x1, y1, x2, y2, stroke, strokeWidth, id) {
    var line = document.createElementNS(svgNS, 'line');
    line.setAttribute('x1', x1); line.setAttribute('y1', y1);
    line.setAttribute('x2', x2); line.setAttribute('y2', y2);
    line.setAttribute('stroke', stroke || '#333');
    line.setAttribute('stroke-width', strokeWidth || 2);
    if (id) line.setAttribute('id', id);
    return line;
  }

  function createText(x, y, text, className, fill, id) {
    var textEl = document.createElementNS(svgNS, 'text');
    textEl.setAttribute('x', x); textEl.setAttribute('y', y);
    textEl.setAttribute('fill', fill || '#333');
    if (className) textEl.setAttribute('class', className);
    if (id) textEl.setAttribute('id', id);
    textEl.textContent = text;
    return textEl;
  }

  function createCircle(cx, cy, r, fill, className, id) {
    var circle = document.createElementNS(svgNS, 'circle');
    circle.setAttribute('cx', cx); circle.setAttribute('cy', cy);
    circle.setAttribute('r', r); circle.setAttribute('fill', fill);
    if (className) circle.setAttribute('class', className);
    if (id) circle.setAttribute('id', id);
    return circle;
  }

  function createRect(x, y, width, height, fill, rx, id) {
    var rect = document.createElementNS(svgNS, 'rect');
    rect.setAttribute('x', x); rect.setAttribute('y', y);
    rect.setAttribute('width', width); rect.setAttribute('height', height);
    rect.setAttribute('fill', fill); rect.setAttribute('rx', rx || 0);
    if (id) rect.setAttribute('id', id);
    return rect;
  }

  function createGroup(id, className) {
    var g = document.createElementNS(svgNS, 'g');
    if (id) g.setAttribute('id', id);
    if (className) g.setAttribute('class', className);
    return g;
  }

  function buildSVG() {
    var container = document.getElementById('center-anim-container');
    if (!container) {
      console.error('Animation container not found');
      return false;
    }

    svg = document.createElementNS(svgNS, 'svg');
    svg.setAttribute('viewBox', '0 0 1920 360');
    svg.setAttribute('id', 'center-anim-svg');
    container.appendChild(svg);

    var bgRect = createRect(40, 10, svgWidth - 80, svgHeight - 20, 'rgba(0, 0, 0, 0.70)', 20, 'ca-bg-rect');
    bgRect.setAttribute('class', 'ca-hidden ca-fade-in');
    svg.appendChild(bgRect);

    var axisGroup = createGroup('ca-axis-group', 'ca-hidden ca-fade-in');
    axisGroup.appendChild(createLine(valueToX(axisMin), axisY, valueToX(axisMax), axisY, '#ffffff', 3));
    for (var val = axisMin; val <= axisMax; val += 2) {
      var x = valueToX(val);
      axisGroup.appendChild(createLine(x, axisY - 8, x, axisY + 8, '#ffffff', 2));
      axisGroup.appendChild(createText(x, axisY + 30, val.toString(), 'ca-tick-label', '#ffffff'));
    }
    var axisLabel = createText(svgWidth / 2, axisY + 85, 'Years of Education', 'ca-axis-label', '#ffffff');
    axisLabel.setAttribute('id', 'ca-axis-label');
    axisGroup.appendChild(axisLabel);
    svg.appendChild(axisGroup);

    var title = createText(valueToX(actualMean), 40, 'ORIGINAL SCALE', 'ca-title ca-hidden ca-fade-in', '#ffffff');
    title.setAttribute('id', 'ca-main-title');
    svg.appendChild(title);

    var pointsGroup = createGroup('ca-points-group', 'ca-hidden ca-fade-in');
    for (var i = 0; i < eduVals.length; i++) {
      var px = valueToX(eduVals[i]);
      var py = pointBaseY + jitterOffsets[i] * jitterScale;
      pointsGroup.appendChild(createCircle(px, py, 10, '#ff4d4d', 'ca-data-point', 'ca-point-' + i));
    }
    svg.appendChild(pointsGroup);

    var meanX = valueToX(actualMean);
    var meanMarker = createCircle(meanX, axisY, 14, '#ff4d4d', 'ca-mean-marker ca-hidden ca-fade-in', 'ca-mean-marker');
    svg.appendChild(meanMarker);

    var meanLabel = createText(meanX, axisY + 70, 'Mean (15.8)', 'ca-mean-label ca-hidden ca-fade-in', '#ff4d4d');
    meanLabel.setAttribute('id', 'ca-mean-label');
    svg.appendChild(meanLabel);

    var annotationGroup = createGroup('ca-annotation-group', 'ca-hidden ca-fade-in');
    annotationGroup.appendChild(createText(svgWidth / 2, 75, 'To center: subtract the mean from each value', 'ca-annotation', '#ffffff'));
    var formulaText = createText(svgWidth / 2, 120, 'x - 15.8', 'ca-annotation', '#ff4d4d');
    formulaText.setAttribute('id', 'ca-formula-text');
    annotationGroup.appendChild(formulaText);
    svg.appendChild(annotationGroup);

    var centeredAxisLabel = createText(svgWidth / 2, axisY + 85, 'Deviation from Mean', 'ca-axis-label ca-hidden ca-fade-in', '#5cb8ff');
    centeredAxisLabel.setAttribute('id', 'ca-centered-axis-label');
    svg.appendChild(centeredAxisLabel);

    var zeroLabel = createText(valueToX(0), 70, 'The mean is now ZERO!', 'ca-mean-label ca-hidden ca-fade-in', '#5cb8ff');
    zeroLabel.setAttribute('id', 'ca-zero-label');
    svg.appendChild(zeroLabel);

    var zeroLine = createLine(valueToX(0), 85, valueToX(0), axisY + 10, '#5cb8ff', 2, 'ca-zero-line');
    zeroLine.setAttribute('class', 'ca-hidden ca-fade-in');
    zeroLine.setAttribute('stroke-dasharray', '5,5');
    svg.appendChild(zeroLine);

    var calloutGroup = createGroup('ca-callout-group', 'ca-hidden ca-fade-in');
    calloutGroup.appendChild(createText(svgWidth * 0.72, 55, 'Same people, same relative distances -', 'ca-annotation', '#5cb8ff'));
    calloutGroup.appendChild(createText(svgWidth * 0.72, 100, 'just a different zero point!', 'ca-annotation', '#5cb8ff'));
    svg.appendChild(calloutGroup);

    console.log('Animation SVG built successfully');
    return true;
  }

  function showEl(id) {
    var el = document.getElementById(id);
    if (el) el.classList.remove('ca-hidden');
  }

  function hideEl(id) {
    var el = document.getElementById(id);
    if (el) el.classList.add('ca-hidden');
  }

  function resetAnimation() {
    console.log('Resetting animation to initial state');

    // Hide all elements
    hideEl('ca-bg-rect');
    hideEl('ca-axis-group');
    hideEl('ca-main-title');
    hideEl('ca-points-group');
    hideEl('ca-mean-marker');
    hideEl('ca-mean-label');
    hideEl('ca-annotation-group');
    hideEl('ca-centered-axis-label');
    hideEl('ca-zero-label');
    hideEl('ca-zero-line');
    hideEl('ca-callout-group');

    // Show original axis label (it gets hidden during animation)
    showEl('ca-axis-label');

    // Reset title to original state
    var titleEl = document.getElementById('ca-main-title');
    if (titleEl) {
      titleEl.textContent = 'ORIGINAL SCALE';
      titleEl.setAttribute('fill', '#ffffff');
      titleEl.setAttribute('x', valueToX(actualMean));
    }

    // Reset data points to original positions and color
    for (var i = 0; i < eduVals.length; i++) {
      var point = document.getElementById('ca-point-' + i);
      if (point) {
        point.setAttribute('cx', valueToX(eduVals[i]));
        point.setAttribute('fill', '#ff4d4d');
      }
    }

    // Reset mean marker to original position and color
    var meanMarkerEl = document.getElementById('ca-mean-marker');
    if (meanMarkerEl) {
      meanMarkerEl.setAttribute('cx', valueToX(actualMean));
      meanMarkerEl.setAttribute('fill', '#ff4d4d');
    }

    // Reset mean label to original state
    var meanLabelEl = document.getElementById('ca-mean-label');
    if (meanLabelEl) {
      meanLabelEl.setAttribute('x', valueToX(actualMean));
      meanLabelEl.setAttribute('fill', '#ff4d4d');
      meanLabelEl.textContent = 'Mean (15.8)';
    }

    // Reset formula text color
    var formulaTextEl = document.getElementById('ca-formula-text');
    if (formulaTextEl) {
      formulaTextEl.setAttribute('fill', '#ff4d4d');
    }
  }

  function renderFrame(frame) {
    console.log('Rendering frame:', frame);
    switch (frame) {
      case 1:
        showEl('ca-bg-rect');
        showEl('ca-axis-group');
        break;
      case 2:
        showEl('ca-main-title');
        showEl('ca-points-group');
        break;
      case 3:
        showEl('ca-mean-marker');
        showEl('ca-mean-label');
        break;
      case 4:
        showEl('ca-annotation-group');
        break;
      case 5:
        var titleEl = document.getElementById('ca-main-title');
        if (titleEl) {
          titleEl.textContent = 'CENTERED SCALE';
          titleEl.setAttribute('fill', '#5cb8ff');
          titleEl.setAttribute('x', valueToX(0));
        }
        for (var i = 0; i < eduVals.length; i++) {
          var point = document.getElementById('ca-point-' + i);
          if (point) {
            point.setAttribute('cx', valueToX(eduVals[i] - actualMean));
            point.setAttribute('fill', '#5cb8ff');
          }
        }
        var meanMarkerEl = document.getElementById('ca-mean-marker');
        if (meanMarkerEl) {
          meanMarkerEl.setAttribute('cx', valueToX(0));
          meanMarkerEl.setAttribute('fill', '#5cb8ff');
        }
        var meanLabelEl = document.getElementById('ca-mean-label');
        if (meanLabelEl) {
          meanLabelEl.setAttribute('x', valueToX(0));
          meanLabelEl.setAttribute('fill', '#5cb8ff');
          meanLabelEl.textContent = 'Mean = 0';
        }
        var formulaTextEl = document.getElementById('ca-formula-text');
        if (formulaTextEl) {
          formulaTextEl.setAttribute('fill', '#5cb8ff');
        }
        break;
      case 6:
        hideEl('ca-axis-label');
        showEl('ca-centered-axis-label');
        hideEl('ca-annotation-group');
        break;
      case 7:
        showEl('ca-zero-label');
        showEl('ca-zero-line');
        hideEl('ca-mean-label');
        break;
      case 8:
        showEl('ca-callout-group');
        break;
      case 9:
        hideEl('ca-bg-rect');
        hideEl('ca-axis-group');
        hideEl('ca-main-title');
        hideEl('ca-points-group');
        hideEl('ca-mean-marker');
        hideEl('ca-mean-label');
        hideEl('ca-centered-axis-label');
        hideEl('ca-zero-label');
        hideEl('ca-zero-line');
        hideEl('ca-callout-group');
        break;
    }
  }

  function init() {
    console.log('Initializing centering animation...');

    if (!buildSVG()) {
      console.error('Failed to build SVG');
      return;
    }

    if (typeof Reveal !== 'undefined') {
      console.log('Reveal.js detected, attaching fragment listener');
      Reveal.on('fragmentshown', function(event) {
        var idx = event.fragment.getAttribute('data-fragment-index');
        console.log('Fragment shown, index:', idx);
        if (idx) renderFrame(parseInt(idx));
      });

      // Reset animation when entering this slide
      Reveal.on('slidechanged', function(event) {
        // Check if we're entering the animation slide
        var slideId = event.currentSlide.getAttribute('id');
        if (slideId === 'grand-mean-centering-a-visual-animation') {
          console.log('Entering animation slide, resetting...');
          resetAnimation();
        }
      });
    } else {
      console.warn('Reveal.js not found');
    }
  }

  // Initialize when Reveal is ready
  if (typeof Reveal !== 'undefined' && Reveal.isReady && Reveal.isReady()) {
    init();
  } else if (typeof Reveal !== 'undefined') {
    Reveal.on('ready', init);
  } else {
    // Fallback: wait for DOM and try again
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        if (typeof Reveal !== 'undefined') {
          if (Reveal.isReady && Reveal.isReady()) {
            init();
          } else {
            Reveal.on('ready', init);
          }
        }
      }, 100);
    });
  }
})();
</script>
</section>
<section id="uncentered-model-plot" class="slide level2 content-light" data-transition="none">
<h2>Uncentered Model: Plot</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/uncentered-plot-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Intercept interpretation:</strong> Expected performance when education = 0 years (not meaningful!)</p>
</section>
<section id="grand-mean-centered-model-plot" class="slide level2 content-light" data-transition="none">
<h2>Grand Mean Centered Model: Plot</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/centered-plot-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Intercept interpretation:</strong> Expected performance at the mean education level (15.8 years)‚Äîa realistic, interpretable value!</p>
</section>
<section id="comparing-the-two-centering-models" class="slide level2 smaller" data-transition="none">
<h2>Comparing the Two Centering Models</h2>
<p><strong>Uncentered Model:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href=""></a><span class="fu">lm</span>(performance <span class="sc">~</span> program <span class="sc">+</span> education, <span class="at">data =</span> onboard_data) <span class="sc">%&gt;%</span> <span class="fu">tidy</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 17%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">15.542</td>
<td style="text-align: right;">9.015</td>
<td style="text-align: right;">1.724</td>
<td style="text-align: right;">0.103</td>
<td style="text-align: right;">-3.478</td>
<td style="text-align: right;">34.561</td>
</tr>
<tr class="even">
<td style="text-align: left;">programnew</td>
<td style="text-align: right;">5.333</td>
<td style="text-align: right;">2.369</td>
<td style="text-align: right;">2.251</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">0.335</td>
<td style="text-align: right;">10.331</td>
</tr>
<tr class="odd">
<td style="text-align: left;">education</td>
<td style="text-align: right;">3.494</td>
<td style="text-align: right;">0.611</td>
<td style="text-align: right;">5.721</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">2.206</td>
<td style="text-align: right;">4.783</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Grand Mean Centered Model:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href=""></a><span class="fu">lm</span>(performance <span class="sc">~</span> program <span class="sc">+</span> education_c, <span class="at">data =</span> onboard_centered) <span class="sc">%&gt;%</span> <span class="fu">tidy</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 17%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">70.753</td>
<td style="text-align: right;">1.506</td>
<td style="text-align: right;">46.975</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">67.576</td>
<td style="text-align: right;">73.931</td>
</tr>
<tr class="even">
<td style="text-align: left;">programnew</td>
<td style="text-align: right;">5.333</td>
<td style="text-align: right;">2.369</td>
<td style="text-align: right;">2.251</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">0.335</td>
<td style="text-align: right;">10.331</td>
</tr>
<tr class="odd">
<td style="text-align: left;">education_c</td>
<td style="text-align: right;">3.494</td>
<td style="text-align: right;">0.611</td>
<td style="text-align: right;">5.721</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">2.206</td>
<td style="text-align: right;">4.783</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>What changed?</strong> Only the intercept! The program and education coefficients are identical.</p>
<ul>
<li><strong>Intercept:</strong> Changed from 15.5 to 70.8. Now represents predicted performance at <em>mean</em> education (15.8 years) rather than at 0 years.</li>
<li><strong>Slopes:</strong> Unchanged‚Äîcentering shifts the zero point but doesn‚Äôt change the relationships between variables.</li>
</ul>
</section>
<section id="what-is-group-mean-centering" class="slide level2" data-transition="none">
<h2>What is Group Mean Centering?</h2>
<p>We‚Äôve seen <strong>grand mean centering</strong>: subtracting the overall mean from each score.</p>
<p><strong>Group mean centering</strong> takes this further: subtract each group‚Äôs own mean from scores within that group.</p>
<table class="caption-top">
<colgroup>
<col style="width: 29%">
<col style="width: 32%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Centering Type</th>
<th>What We Subtract</th>
<th>Intercept Represents</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>None (raw)</td>
<td>Nothing</td>
<td>Performance when education = 0</td>
</tr>
<tr class="even">
<td>Grand mean</td>
<td>Overall mean education</td>
<td>Performance at mean education (across all employees)</td>
</tr>
<tr class="odd">
<td>Group mean</td>
<td>Each group‚Äôs mean education</td>
<td>Performance at each group‚Äôs mean education</td>
</tr>
</tbody>
</table>
<p><strong>Why does this matter?</strong></p>
<ul>
<li>Grand mean centering keeps between-group differences in the predictor</li>
<li>Group mean centering removes between-group differences, leaving only within-group variation</li>
<li>This becomes crucial for multilevel modeling (coming soon!)</li>
</ul>
</section>
<section id="group-centering-a-visual-explanation" class="slide level2" data-transition="none">
<h2>Group Centering: A Visual Explanation</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/group-centering-visual-1.png" class="quarto-figure quarto-figure-center" width="886" height="620"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="group-centering-a-visual-animation" class="slide level2" data-transition="none">
<h2>Group Centering: A Visual Animation</h2>
<style>
  #gc-anim-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 85vh;
    width: 100%;
  }

  #gc-anim-container {
    width: 100%;
    max-width: 1920px;
    aspect-ratio: 1920 / 600;
    padding: 0;
    margin: 0 auto;
    visibility: hidden;
  }

  #gc-anim-container svg {
    width: 100%;
    height: 100%;
    display: block;
  }

  .gc-title {
    font-size: 28px;
    font-weight: bold;
    text-anchor: middle;
    transition: fill 2s ease-in-out;
  }

  .gc-axis-label {
    font-size: 24px;
    font-weight: bold;
    text-anchor: middle;
  }

  .gc-tick-label {
    font-size: 20px;
    font-weight: bold;
    text-anchor: middle;
  }

  .gc-annotation {
    font-size: 28px;
    font-weight: bold;
    text-anchor: middle;
  }

  .gc-mean-label {
    font-size: 22px;
    font-weight: bold;
    text-anchor: middle;
  }

  .gc-group-label {
    font-size: 24px;
    font-weight: bold;
    text-anchor: start;
  }

  .gc-callout {
    font-size: 22px;
    font-weight: bold;
    text-anchor: middle;
  }

  .gc-hidden {
    opacity: 0;
    pointer-events: none;
  }

  .gc-fade-in {
    transition: opacity 0.5s ease-in-out;
  }

  .gc-data-point {
    transition: cx 2s ease-in-out, cy 2s ease-in-out, fill 2s ease-in-out;
  }

  .gc-mean-marker {
    transition: cx 2s ease-in-out, cy 2s ease-in-out, fill 2s ease-in-out;
  }

  .gc-axis-fade {
    transition: opacity 0.5s ease-in-out;
  }
</style>
<div id="gc-anim-wrapper">
<div id="gc-anim-container">

</div>
</div>
<div class="fragment" data-fragment-index="1">

</div>
<div class="fragment" data-fragment-index="2">

</div>
<div class="fragment" data-fragment-index="3">

</div>
<div class="fragment" data-fragment-index="4">

</div>
<div class="fragment" data-fragment-index="5">

</div>
<div class="fragment" data-fragment-index="6">

</div>
<div class="fragment" data-fragment-index="7">

</div>
<div class="fragment" data-fragment-index="8">

</div>
<div class="fragment" data-fragment-index="9">

</div>
<div class="fragment" data-fragment-index="10">

</div>
<div class="fragment" data-fragment-index="11">

</div>
<div class="fragment" data-fragment-index="12">

</div>
<script>
(function() {
  // ============================================
  // DATA
  // ============================================
  var eduVals = [12, 14, 13, 16, 15, 14, 17, 14, 16, 15,
                 15, 18, 16, 20, 17, 16, 19, 15, 18, 16];

  var oldIndices = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
  var newIndices = [10, 11, 12, 13, 14, 15, 16, 17, 18, 19];

  var oldMean = 14.6;
  var newMean = 17.0;

  var jitterOffsets = [
     0.1244418130,  0.1311226240, -0.0641581396,  0.0991342878,  0.0425236557,
     0.0057287847,  0.0709764944, -0.1096000208,  0.0470976871,  0.0615194352,
    -0.0126774671,  0.0657336755,  0.1304016741, -0.0733713527, -0.0113121532,
     0.1320043568,  0.1434679285, -0.1147537915, -0.0075008755,  0.0180998239
  ];

  // Colors (same as original grand mean animation)
  var oldColor = '#ff4d4d';
  var newColor = '#5cb8ff';
  var orangeColor = '#ff7f00';

  // ============================================
  // SVG COORDINATE MAPPING
  // Same axis range as original: -6 to 22 (zero is visible!)
  // ============================================
  var svgWidth = 1920, svgHeight = 600;
  var marginLeft = 100, marginRight = 100;

  var originalAxisY = 150;
  var originalPointsBaseY = 80;
  var oldCenteredAxisY = 350;
  var oldCenteredPointsBaseY = 280;
  var newCenteredAxisY = 520;
  var newCenteredPointsBaseY = 450;

  var jitterScale = 200;

  // SAME axis range as original animation: -6 to 22
  var axisMin = -6;
  var axisMax = 22;
  var axisRange = axisMax - axisMin; // 28

  function valueToX(val) {
    return marginLeft + (val - axisMin) * ((svgWidth - marginLeft - marginRight) / axisRange);
  }

  var svgNS = "http://www.w3.org/2000/svg";
  var svg = null;

  function createLine(x1, y1, x2, y2, stroke, strokeWidth, id) {
    var line = document.createElementNS(svgNS, 'line');
    line.setAttribute('x1', x1); line.setAttribute('y1', y1);
    line.setAttribute('x2', x2); line.setAttribute('y2', y2);
    line.setAttribute('stroke', stroke || '#333');
    line.setAttribute('stroke-width', strokeWidth || 2);
    if (id) line.setAttribute('id', id);
    return line;
  }

  function createText(x, y, text, className, fill, id) {
    var textEl = document.createElementNS(svgNS, 'text');
    textEl.setAttribute('x', x); textEl.setAttribute('y', y);
    textEl.setAttribute('fill', fill || '#333');
    if (className) textEl.setAttribute('class', className);
    if (id) textEl.setAttribute('id', id);
    textEl.textContent = text;
    return textEl;
  }

  function createCircle(cx, cy, r, fill, className, id) {
    var circle = document.createElementNS(svgNS, 'circle');
    circle.setAttribute('cx', cx); circle.setAttribute('cy', cy);
    circle.setAttribute('r', r); circle.setAttribute('fill', fill);
    if (className) circle.setAttribute('class', className);
    if (id) circle.setAttribute('id', id);
    return circle;
  }

  function createRect(x, y, width, height, fill, rx, id) {
    var rect = document.createElementNS(svgNS, 'rect');
    rect.setAttribute('x', x); rect.setAttribute('y', y);
    rect.setAttribute('width', width); rect.setAttribute('height', height);
    rect.setAttribute('fill', fill); rect.setAttribute('rx', rx || 0);
    if (id) rect.setAttribute('id', id);
    return rect;
  }

  function createGroup(id, className) {
    var g = document.createElementNS(svgNS, 'g');
    if (id) g.setAttribute('id', id);
    if (className) g.setAttribute('class', className);
    return g;
  }

  function buildSVG() {
    var container = document.getElementById('gc-anim-container');
    if (!container) {
      console.error('Group centering animation container not found');
      return false;
    }

    svg = document.createElementNS(svgNS, 'svg');
    svg.setAttribute('viewBox', '0 0 1920 600');
    svg.setAttribute('id', 'gc-anim-svg');
    container.appendChild(svg);

    // Background
    var bgRect = createRect(40, 10, svgWidth - 80, svgHeight - 20, 'rgba(0, 0, 0, 0.70)', 20, 'gc-bg-rect');
    bgRect.setAttribute('class', 'gc-hidden gc-fade-in');
    svg.appendChild(bgRect);

    // Original axis group (-6 to 22)
    var origAxisGroup = createGroup('gc-orig-axis-group', 'gc-hidden gc-fade-in gc-axis-fade');
    origAxisGroup.appendChild(createLine(valueToX(axisMin), originalAxisY,
                                         valueToX(axisMax), originalAxisY, '#ffffff', 3));
    for (var val = axisMin; val <= axisMax; val += 2) {
      var x = valueToX(val);
      origAxisGroup.appendChild(createLine(x, originalAxisY - 8, x, originalAxisY + 8, '#ffffff', 2));
      origAxisGroup.appendChild(createText(x, originalAxisY + 30, val.toString(), 'gc-tick-label', '#ffffff'));
    }
    var origAxisLabel = createText(svgWidth / 2, originalAxisY + 60, 'Years of Education', 'gc-axis-label', '#ffffff');
    origAxisLabel.setAttribute('id', 'gc-orig-axis-label');
    origAxisGroup.appendChild(origAxisLabel);
    svg.appendChild(origAxisGroup);

    // Title
    var title = createText(svgWidth / 2, 40, 'ORIGINAL SCALE', 'gc-title gc-hidden gc-fade-in', '#ffffff');
    title.setAttribute('id', 'gc-main-title');
    svg.appendChild(title);

    // Old program points
    var oldPointsGroup = createGroup('gc-old-points-group', 'gc-hidden gc-fade-in');
    for (var i = 0; i < oldIndices.length; i++) {
      var idx = oldIndices[i];
      var px = valueToX(eduVals[idx]);
      var py = originalPointsBaseY + jitterOffsets[idx] * jitterScale;
      oldPointsGroup.appendChild(createCircle(px, py, 10, oldColor, 'gc-data-point', 'gc-old-point-' + idx));
    }
    svg.appendChild(oldPointsGroup);

    // New program points
    var newPointsGroup = createGroup('gc-new-points-group', 'gc-hidden gc-fade-in');
    for (var i = 0; i < newIndices.length; i++) {
      var idx = newIndices[i];
      var px = valueToX(eduVals[idx]);
      var py = originalPointsBaseY + jitterOffsets[idx] * jitterScale;
      newPointsGroup.appendChild(createCircle(px, py, 10, newColor, 'gc-data-point', 'gc-new-point-' + idx));
    }
    svg.appendChild(newPointsGroup);

    // Old mean marker
    var oldMeanX = valueToX(oldMean);
    var oldMeanMarker = createCircle(oldMeanX, originalAxisY, 14, oldColor, 'gc-mean-marker gc-hidden gc-fade-in', 'gc-old-mean-marker');
    svg.appendChild(oldMeanMarker);
    var oldMeanLabel = createText(oldMeanX, originalAxisY + 70, 'Old Program Mean (' + oldMean + ')', 'gc-mean-label gc-hidden gc-fade-in', oldColor);
    oldMeanLabel.setAttribute('id', 'gc-old-mean-label');
    svg.appendChild(oldMeanLabel);

    // New mean marker
    var newMeanX = valueToX(newMean);
    var newMeanMarker = createCircle(newMeanX, originalAxisY, 14, newColor, 'gc-mean-marker gc-hidden gc-fade-in', 'gc-new-mean-marker');
    svg.appendChild(newMeanMarker);
    var newMeanLabel = createText(newMeanX, originalAxisY + 95, 'New Program Mean (' + newMean + ')', 'gc-mean-label gc-hidden gc-fade-in', newColor);
    newMeanLabel.setAttribute('id', 'gc-new-mean-label');
    svg.appendChild(newMeanLabel);

    // Annotation group
    var annotationGroup = createGroup('gc-annotation-group', 'gc-hidden gc-fade-in');
    annotationGroup.appendChild(createText(svgWidth / 2, originalAxisY + 100, "Group Mean Centering: subtract each group's own mean", 'gc-annotation', '#ffffff'));
    annotationGroup.appendChild(createText(svgWidth / 2 - 250, originalAxisY + 140, 'Old Program: x - ' + oldMean, 'gc-annotation', oldColor));
    annotationGroup.appendChild(createText(svgWidth / 2 + 250, originalAxisY + 140, 'New Program: x - ' + newMean, 'gc-annotation', newColor));
    svg.appendChild(annotationGroup);

    // Old centered axis group (-6 to 6 range)
    var oldCenteredAxisGroup = createGroup('gc-old-centered-axis-group', 'gc-hidden gc-fade-in');
    oldCenteredAxisGroup.appendChild(createLine(valueToX(-6), oldCenteredAxisY,
                                                valueToX(6), oldCenteredAxisY, oldColor, 3));
    for (var val = -6; val <= 6; val += 2) {
      var x = valueToX(val);
      oldCenteredAxisGroup.appendChild(createLine(x, oldCenteredAxisY - 8, x, oldCenteredAxisY + 8, oldColor, 2));
      var label = val === 0 ? '0' : (val > 0 ? '+' + val : val.toString());
      oldCenteredAxisGroup.appendChild(createText(x, oldCenteredAxisY + 30, label, 'gc-tick-label', oldColor));
    }
    oldCenteredAxisGroup.appendChild(createText(valueToX(6) + 30, oldCenteredAxisY + 5, 'Old Program', 'gc-group-label', oldColor));
    oldCenteredAxisGroup.appendChild(createCircle(valueToX(0), oldCenteredAxisY, 14, oldColor, '', 'gc-old-zero-marker'));
    svg.appendChild(oldCenteredAxisGroup);

    // New centered axis group (-6 to 6 range)
    var newCenteredAxisGroup = createGroup('gc-new-centered-axis-group', 'gc-hidden gc-fade-in');
    newCenteredAxisGroup.appendChild(createLine(valueToX(-6), newCenteredAxisY,
                                                valueToX(6), newCenteredAxisY, newColor, 3));
    for (var val = -6; val <= 6; val += 2) {
      var x = valueToX(val);
      newCenteredAxisGroup.appendChild(createLine(x, newCenteredAxisY - 8, x, newCenteredAxisY + 8, newColor, 2));
      var label = val === 0 ? '0' : (val > 0 ? '+' + val : val.toString());
      newCenteredAxisGroup.appendChild(createText(x, newCenteredAxisY + 30, label, 'gc-tick-label', newColor));
    }
    newCenteredAxisGroup.appendChild(createText(valueToX(6) + 30, newCenteredAxisY + 5, 'New Program', 'gc-group-label', newColor));
    newCenteredAxisGroup.appendChild(createCircle(valueToX(0), newCenteredAxisY, 14, newColor, '', 'gc-new-zero-marker'));
    svg.appendChild(newCenteredAxisGroup);

    // Both means label (above the data points)
    var bothMeansLabelY = oldCenteredPointsBaseY - 50;
    var bothMeansLabel = createText(valueToX(0), bothMeansLabelY, 'Both means = 0', 'gc-mean-label gc-hidden gc-fade-in', '#ffffff');

    // Alignment line (white, extends from label to below new axis)
    var alignmentLine = createLine(valueToX(0), bothMeansLabelY + 10,
                                   valueToX(0), newCenteredAxisY + 40, '#ffffff', 3, 'gc-alignment-line');
    alignmentLine.setAttribute('class', 'gc-hidden gc-fade-in');
    alignmentLine.setAttribute('stroke-dasharray', '10,5');
    svg.appendChild(alignmentLine);
    bothMeansLabel.setAttribute('id', 'gc-both-means-label');
    svg.appendChild(bothMeansLabel);

    // Callout boxes (both centered between numberline end and right edge)
    var boxWidth = 420;
    var boxHeight = 70;
    var boxCenterX = (valueToX(6) + (svgWidth - marginRight)) / 2;
    var boxLeftX = boxCenterX - boxWidth / 2;

    // Summary box (upper)
    var summaryBoxY = oldCenteredAxisY - 40;
    var summaryGroup = createGroup('gc-summary-group', 'gc-hidden gc-fade-in');
    var summaryRect = createRect(boxLeftX, summaryBoxY, boxWidth, boxHeight, 'rgba(255, 255, 255, 0.9)', 10);
    var summaryText1 = createText(boxCenterX, summaryBoxY + 28, 'After group mean centering,', 'gc-callout', '#333');
    summaryText1.setAttribute('text-anchor', 'middle');
    var summaryText2 = createText(boxCenterX, summaryBoxY + 52, 'both groups have mean = 0', 'gc-callout', '#333');
    summaryText2.setAttribute('text-anchor', 'middle');
    summaryGroup.appendChild(summaryRect);
    summaryGroup.appendChild(summaryText1);
    summaryGroup.appendChild(summaryText2);
    svg.appendChild(summaryGroup);

    // Insight box (lower)
    var insightBoxY = newCenteredAxisY - 40;
    var insightGroup = createGroup('gc-insight-group', 'gc-hidden gc-fade-in');
    var insightRect = createRect(boxLeftX, insightBoxY, boxWidth, boxHeight, 'rgba(255, 255, 255, 0.9)', 10);
    var insightText1 = createText(boxCenterX, insightBoxY + 28, 'Within each group, points show', 'gc-callout', '#333');
    insightText1.setAttribute('text-anchor', 'middle');
    var insightText2 = createText(boxCenterX, insightBoxY + 52, "deviation from that group's mean", 'gc-callout', '#333');
    insightText2.setAttribute('text-anchor', 'middle');
    insightGroup.appendChild(insightRect);
    insightGroup.appendChild(insightText1);
    insightGroup.appendChild(insightText2);
    svg.appendChild(insightGroup);

    console.log('Group centering animation SVG built successfully');
    return true;
  }

  function showEl(id) {
    var el = document.getElementById(id);
    if (el) el.classList.remove('gc-hidden');
  }

  function hideEl(id) {
    var el = document.getElementById(id);
    if (el) el.classList.add('gc-hidden');
  }

  function resetAnimation() {
    console.log('Resetting group centering animation');

    // Hide all elements
    hideEl('gc-bg-rect');
    hideEl('gc-orig-axis-group');
    hideEl('gc-main-title');
    hideEl('gc-old-points-group');
    hideEl('gc-new-points-group');
    hideEl('gc-old-mean-marker');
    hideEl('gc-old-mean-label');
    hideEl('gc-new-mean-marker');
    hideEl('gc-new-mean-label');
    hideEl('gc-annotation-group');
    hideEl('gc-old-centered-axis-group');
    hideEl('gc-new-centered-axis-group');
    hideEl('gc-alignment-line');
    hideEl('gc-both-means-label');
    hideEl('gc-summary-group');
    hideEl('gc-insight-group');

    // Reset title
    var titleEl = document.getElementById('gc-main-title');
    if (titleEl) {
      titleEl.textContent = 'ORIGINAL SCALE';
      titleEl.setAttribute('fill', '#ffffff');
    }

    // Reset old program points
    for (var i = 0; i < oldIndices.length; i++) {
      var idx = oldIndices[i];
      var point = document.getElementById('gc-old-point-' + idx);
      if (point) {
        point.setAttribute('cx', valueToX(eduVals[idx]));
        point.setAttribute('cy', originalPointsBaseY + jitterOffsets[idx] * jitterScale);
      }
    }

    // Reset new program points
    for (var i = 0; i < newIndices.length; i++) {
      var idx = newIndices[i];
      var point = document.getElementById('gc-new-point-' + idx);
      if (point) {
        point.setAttribute('cx', valueToX(eduVals[idx]));
        point.setAttribute('cy', originalPointsBaseY + jitterOffsets[idx] * jitterScale);
      }
    }

    // Reset old mean marker and label
    var oldMeanMarkerEl = document.getElementById('gc-old-mean-marker');
    if (oldMeanMarkerEl) {
      oldMeanMarkerEl.setAttribute('cx', valueToX(oldMean));
      oldMeanMarkerEl.setAttribute('cy', originalAxisY);
    }
    var oldMeanLabelEl = document.getElementById('gc-old-mean-label');
    if (oldMeanLabelEl) {
      oldMeanLabelEl.setAttribute('x', valueToX(oldMean));
      oldMeanLabelEl.textContent = 'Old Program Mean (' + oldMean + ')';
    }

    // Reset new mean marker and label
    var newMeanMarkerEl = document.getElementById('gc-new-mean-marker');
    if (newMeanMarkerEl) {
      newMeanMarkerEl.setAttribute('cx', valueToX(newMean));
      newMeanMarkerEl.setAttribute('cy', originalAxisY);
    }
    var newMeanLabelEl = document.getElementById('gc-new-mean-label');
    if (newMeanLabelEl) {
      newMeanLabelEl.setAttribute('x', valueToX(newMean));
      newMeanLabelEl.textContent = 'New Program Mean (' + newMean + ')';
    }
  }

  function renderFrame(frame) {
    console.log('Rendering group centering frame:', frame);
    switch (frame) {
      case 1: // Background + original axis
        showEl('gc-bg-rect');
        showEl('gc-orig-axis-group');
        break;

      case 2: // Title + both groups' points
        showEl('gc-main-title');
        showEl('gc-old-points-group');
        showEl('gc-new-points-group');
        break;

      case 3: // Old mean marker
        showEl('gc-old-mean-marker');
        showEl('gc-old-mean-label');
        break;

      case 4: // New mean marker
        showEl('gc-new-mean-marker');
        showEl('gc-new-mean-label');
        break;

      case 5: // Centering instructions
        showEl('gc-annotation-group');
        break;

      case 6: // Old points slide to center
        var titleEl = document.getElementById('gc-main-title');
        if (titleEl) {
          titleEl.textContent = 'GROUP MEAN CENTERING - OLD PROGRAM';
          titleEl.setAttribute('fill', oldColor);
        }
        for (var i = 0; i < oldIndices.length; i++) {
          var idx = oldIndices[i];
          var point = document.getElementById('gc-old-point-' + idx);
          if (point) {
            var centeredVal = eduVals[idx] - oldMean;
            point.setAttribute('cx', valueToX(centeredVal));
          }
        }
        var oldMeanMarkerEl = document.getElementById('gc-old-mean-marker');
        if (oldMeanMarkerEl) {
          oldMeanMarkerEl.setAttribute('cx', valueToX(0));
        }
        var oldMeanLabelEl = document.getElementById('gc-old-mean-label');
        if (oldMeanLabelEl) {
          oldMeanLabelEl.setAttribute('x', valueToX(0));
          oldMeanLabelEl.textContent = 'Mean = 0';
        }
        break;

      case 7: // Old centered axis + points drop
        showEl('gc-old-centered-axis-group');
        hideEl('gc-annotation-group');
        for (var i = 0; i < oldIndices.length; i++) {
          var idx = oldIndices[i];
          var point = document.getElementById('gc-old-point-' + idx);
          if (point) {
            point.setAttribute('cy', oldCenteredPointsBaseY + jitterOffsets[idx] * jitterScale);
          }
        }
        hideEl('gc-old-mean-marker');
        hideEl('gc-old-mean-label');
        break;

      case 8: // New points slide to center
        var titleEl = document.getElementById('gc-main-title');
        if (titleEl) {
          titleEl.textContent = 'GROUP MEAN CENTERING - NEW PROGRAM';
          titleEl.setAttribute('fill', newColor);
        }
        for (var i = 0; i < newIndices.length; i++) {
          var idx = newIndices[i];
          var point = document.getElementById('gc-new-point-' + idx);
          if (point) {
            var centeredVal = eduVals[idx] - newMean;
            point.setAttribute('cx', valueToX(centeredVal));
          }
        }
        var newMeanMarkerEl = document.getElementById('gc-new-mean-marker');
        if (newMeanMarkerEl) {
          newMeanMarkerEl.setAttribute('cx', valueToX(0));
        }
        var newMeanLabelEl = document.getElementById('gc-new-mean-label');
        if (newMeanLabelEl) {
          newMeanLabelEl.setAttribute('x', valueToX(0));
          newMeanLabelEl.textContent = 'Mean = 0';
        }
        break;

      case 9: // New centered axis + points drop + hide original
        showEl('gc-new-centered-axis-group');
        for (var i = 0; i < newIndices.length; i++) {
          var idx = newIndices[i];
          var point = document.getElementById('gc-new-point-' + idx);
          if (point) {
            point.setAttribute('cy', newCenteredPointsBaseY + jitterOffsets[idx] * jitterScale);
          }
        }
        hideEl('gc-new-mean-marker');
        hideEl('gc-new-mean-label');
        hideEl('gc-orig-axis-group');
        break;

      case 10: // Alignment line + summary
        var titleEl = document.getElementById('gc-main-title');
        if (titleEl) {
          titleEl.textContent = 'GROUP MEAN CENTERED';
          titleEl.setAttribute('fill', '#ffffff');
        }
        showEl('gc-alignment-line');
        showEl('gc-both-means-label');
        showEl('gc-summary-group');
        break;

      case 11: // Key insight
        showEl('gc-insight-group');
        break;

      case 12: // Fade out
        hideEl('gc-bg-rect');
        hideEl('gc-orig-axis-group');
        hideEl('gc-main-title');
        hideEl('gc-old-points-group');
        hideEl('gc-new-points-group');
        hideEl('gc-old-centered-axis-group');
        hideEl('gc-new-centered-axis-group');
        hideEl('gc-alignment-line');
        hideEl('gc-both-means-label');
        hideEl('gc-summary-group');
        hideEl('gc-insight-group');
        break;
    }
  }

  function init() {
    console.log('Initializing group centering animation...');

    if (!buildSVG()) {
      console.error('Failed to build group centering SVG');
      return;
    }

    // Make container visible now that SVG is built with hidden elements
    var container = document.getElementById('gc-anim-container');
    if (container) {
      container.style.visibility = 'visible';
    }

    if (typeof Reveal !== 'undefined') {
      console.log('Reveal.js detected, attaching fragment listener for group centering');
      Reveal.on('fragmentshown', function(event) {
        // Only respond to fragments on our slide
        var currentSlide = Reveal.getCurrentSlide();
        var slideId = currentSlide ? currentSlide.getAttribute('id') : null;
        if (slideId !== 'group-centering-a-visual-animation') {
          return;
        }
        var idx = event.fragment.getAttribute('data-fragment-index');
        console.log('Group centering fragment shown, index:', idx);
        if (idx) renderFrame(parseInt(idx));
      });

      Reveal.on('slidechanged', function(event) {
        var slideId = event.currentSlide.getAttribute('id');
        if (slideId === 'group-centering-a-visual-animation') {
          console.log('Entering group centering animation slide, resetting...');
          resetAnimation();
        }
      });
    } else {
      console.warn('Reveal.js not found');
    }
  }

  if (typeof Reveal !== 'undefined' && Reveal.isReady && Reveal.isReady()) {
    init();
  } else if (typeof Reveal !== 'undefined') {
    Reveal.on('ready', init);
  } else {
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        if (typeof Reveal !== 'undefined') {
          if (Reveal.isReady && Reveal.isReady()) {
            init();
          } else {
            Reveal.on('ready', init);
          }
        }
      }, 100);
    });
  }
})();
</script>
</section>
<section id="uncentered-model-review" class="slide level2" data-transition="none">
<h2>Uncentered Model (Review)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/uncentered-plot-review-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Intercept interpretation:</strong> Expected performance when education = 0 years (not meaningful!)</p>
</section>
<section id="grand-mean-centered-model-review" class="slide level2" data-transition="none">
<h2>Grand Mean Centered Model (Review)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/grand-mean-centered-plot-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Intercept interpretation:</strong> Expected performance at the grand mean education (15.8 years)</p>
</section>
<section id="group-mean-centered-model-new" class="slide level2" data-transition="none">
<h2>Group Mean Centered Model (New)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/group-mean-centered-plot-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>Program coefficient (13.72):</strong> This is the <strong>unadjusted</strong> difference between groups‚Äîthe same value we got from <code>lm(performance ~ program)</code> without education in the model (13.72).</p>
<p><strong>Why?</strong> Group mean centering compares groups at their <em>own</em> mean education levels, not at a <em>common</em> education level. This removes the statistical control for education differences between groups.</p>
</section>
<section id="comparing-the-two-centered-models" class="slide level2 smaller" data-transition="none">
<h2>Comparing the Two Centered Models</h2>
<p><strong>Grand Mean Centered Model:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href=""></a><span class="fu">lm</span>(performance <span class="sc">~</span> program <span class="sc">+</span> education_c, <span class="at">data =</span> onboard_grand_centered) <span class="sc">%&gt;%</span> <span class="fu">tidy</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" style="margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.low</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">70.753</td>
<td style="text-align: right;">1.506</td>
<td style="text-align: right;">46.975</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">67.576</td>
<td style="text-align: right;">73.931</td>
</tr>
<tr class="even">
<td style="text-align: left;">programnew</td>
<td style="text-align: right;">5.333</td>
<td style="text-align: right;">2.369</td>
<td style="text-align: right;">2.251</td>
<td style="text-align: right;">0.038</td>
<td style="text-align: right;">0.335</td>
<td style="text-align: right;">10.331</td>
</tr>
<tr class="odd">
<td style="text-align: left;">education (centered)</td>
<td style="text-align: right;">3.494</td>
<td style="text-align: right;">0.611</td>
<td style="text-align: right;">5.721</td>
<td style="text-align: right;">0.000</td>
<td style="text-align: right;">2.206</td>
<td style="text-align: right;">4.783</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Group Mean Centered Model:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href=""></a><span class="fu">lm</span>(performance <span class="sc">~</span> program <span class="sc">+</span> education_gc, <span class="at">data =</span> onboard_group_centered) <span class="sc">%&gt;%</span> <span class="fu">tidy</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top" style="margin-left: auto; margin-right: auto;">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.low</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">66.560</td>
<td style="text-align: right;">1.316</td>
<td style="text-align: right;">50.586</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">63.784</td>
<td style="text-align: right;">69.336</td>
</tr>
<tr class="even">
<td style="text-align: left;">programnew</td>
<td style="text-align: right;">13.720</td>
<td style="text-align: right;">1.861</td>
<td style="text-align: right;">7.373</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.794</td>
<td style="text-align: right;">17.646</td>
</tr>
<tr class="odd">
<td style="text-align: left;">education (centered)</td>
<td style="text-align: right;">3.494</td>
<td style="text-align: right;">0.611</td>
<td style="text-align: right;">5.721</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2.206</td>
<td style="text-align: right;">4.783</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Key differences:</strong></p>
<ul>
<li><strong>Program coefficient:</strong> Grand mean ‚Üí smaller (controlled for education); Group mean ‚Üí larger (NOT controlled)</li>
<li><strong>Interpretation:</strong> Grand mean compares groups at the <em>same</em> education level; Group mean compares groups at their <em>own</em> average education levels</li>
<li><strong>Education slope:</strong> Identical in both models‚Äîcentering doesn‚Äôt change slopes</li>
</ul>
</section>
<section id="interpreting-the-intercept" class="slide level2" data-transition="none">
<h2>Interpreting the Intercept</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Coefficient</th>
<th>Uncentered</th>
<th>Grand Mean</th>
<th>Group Mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Intercept</td>
<td>15.54</td>
<td>70.75</td>
<td>66.56</td>
</tr>
<tr class="even">
<td>Program (new vs old)</td>
<td>5.33</td>
<td>5.33</td>
<td>13.72</td>
</tr>
<tr class="odd">
<td>Education slope</td>
<td>3.49</td>
<td>3.49</td>
<td>3.49</td>
</tr>
</tbody>
</table>
<p><strong>What does the intercept mean in each model?</strong></p>
<table class="caption-top">
<colgroup>
<col style="width: 17%">
<col style="width: 42%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>Model</th>
<th>Intercept Value</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Uncentered</td>
<td>15.54</td>
<td>Predicted performance for old-program employees with <strong>0 years of education</strong> (unrealistic!)</td>
</tr>
<tr class="even">
<td>Grand Mean</td>
<td>70.75</td>
<td>Predicted performance for old-program employees with <strong>average education</strong> (15.8 years)</td>
</tr>
<tr class="odd">
<td>Group Mean</td>
<td>66.56</td>
<td>Predicted performance for old-program employees with <strong>average education for their group</strong> (14.6 years)</td>
</tr>
</tbody>
</table>
<p><strong>Key insight:</strong> The intercept value changes because ‚Äúzero‚Äù on the education scale means something different in each model. Grand mean and group mean centering give interpretable intercepts.</p>
</section>
<section id="interpreting-the-program-coefficient" class="slide level2" data-transition="none">
<h2>Interpreting the Program Coefficient</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Coefficient</th>
<th>Uncentered</th>
<th>Grand Mean</th>
<th>Group Mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Intercept</td>
<td>15.54</td>
<td>70.75</td>
<td>66.56</td>
</tr>
<tr class="even">
<td>Program (new vs old)</td>
<td>5.33</td>
<td>5.33</td>
<td>13.72</td>
</tr>
<tr class="odd">
<td>Education slope</td>
<td>3.49</td>
<td>3.49</td>
<td>3.49</td>
</tr>
</tbody>
</table>
<p><strong>What does the program coefficient mean in each model?</strong></p>
<table class="caption-top">
<colgroup>
<col style="width: 18%">
<col style="width: 37%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th>Model</th>
<th>Program Coef</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Uncentered</td>
<td>5.33</td>
<td>Difference between programs for employees with the <strong>same education level</strong> (adjusted)</td>
</tr>
<tr class="even">
<td>Grand Mean</td>
<td>5.33</td>
<td>Difference between programs for employees with the <strong>same education level</strong> (adjusted)‚Äîidentical to uncentered!</td>
</tr>
<tr class="odd">
<td>Group Mean</td>
<td>13.72</td>
<td>Difference between programs comparing employees at their <strong>own group‚Äôs average education</strong> (unadjusted!)</td>
</tr>
</tbody>
</table>
<p><strong>Critical insight:</strong> Group mean centering changes the program coefficient because it compares groups at <em>different</em> education levels (each group‚Äôs own mean). This is equivalent to the unadjusted analysis‚Äîit does NOT control for education!</p>
</section>
<section id="interpreting-the-education-slope" class="slide level2" data-transition="none">
<h2>Interpreting the Education Slope</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Coefficient</th>
<th>Uncentered</th>
<th>Grand Mean</th>
<th>Group Mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Intercept</td>
<td>15.54</td>
<td>70.75</td>
<td>66.56</td>
</tr>
<tr class="even">
<td>Program (new vs old)</td>
<td>5.33</td>
<td>5.33</td>
<td>13.72</td>
</tr>
<tr class="odd">
<td>Education slope</td>
<td>3.49</td>
<td>3.49</td>
<td>3.49</td>
</tr>
</tbody>
</table>
<p><strong>What does the education slope mean in each model?</strong></p>
<table class="caption-top">
<colgroup>
<col style="width: 17%">
<col style="width: 42%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>Model</th>
<th>Education Slope</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Uncentered</td>
<td>3.49</td>
<td>For each additional year of education, performance increases by 3.49 points, holding program constant</td>
</tr>
<tr class="even">
<td>Grand Mean</td>
<td>3.49</td>
<td>For each additional year of education, performance increases by 3.49 points, holding program constant</td>
</tr>
<tr class="odd">
<td>Group Mean</td>
<td>3.49</td>
<td>For each additional year of education, performance increases by 3.49 points, holding program constant</td>
</tr>
</tbody>
</table>
<p><strong>Key insight:</strong> The education slope is <strong>identical</strong> across all three models (3.49). Centering shifts where ‚Äúzero‚Äù is on the x-axis, but it does not change the steepness of the line. The relationship between education and performance remains the same.</p>
</section>
<section id="choosing-between-centering-methods" class="slide level2 size-85" data-transition="none">
<h2>Choosing Between Centering Methods</h2>
<p><strong>When to use Grand Mean Centering:</strong></p>
<ul>
<li>You want a meaningful intercept (performance at average education)</li>
<li>You want to keep between-group differences in the predictor</li>
<li>You‚Äôre asking: ‚ÄúWhat‚Äôs the program effect for people with the <em>same</em> education?‚Äù</li>
<li>Standard regression and ANCOVA contexts</li>
</ul>
<p><strong>When to use Group Mean Centering:</strong></p>
<ul>
<li>You want to separate within-group from between-group effects</li>
<li>You‚Äôre preparing for <strong>multilevel modeling</strong> (students within schools, employees within companies)</li>
<li>You‚Äôre asking: ‚ÄúWhat‚Äôs the program effect comparing people who are <em>average for their group</em>?‚Äù</li>
<li>You want to remove confounding due to group-level differences in the predictor</li>
</ul>
<p><strong>Decision Guide:</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Your Question</th>
<th>Centering Choice</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Effect of X holding groups equal on X?</td>
<td>Grand mean</td>
</tr>
<tr class="even">
<td>Pure within-group effect of X?</td>
<td>Group mean</td>
</tr>
<tr class="odd">
<td>Preparing for multilevel models?</td>
<td>Group mean</td>
</tr>
<tr class="even">
<td>Simple ANCOVA interpretation?</td>
<td>Grand mean</td>
</tr>
</tbody>
</table>
<p><strong>Rule of thumb:</strong> If groups naturally differ on the predictor and you want to control for that difference, use grand mean centering. If you want to understand how the predictor works <em>within</em> each group separately, use group mean centering.</p>
</section>
<section id="when-group-mean-centering-is-appropriate" class="slide level2">
<h2>When group mean centering IS appropriate</h2>
<p>Group mean centering is useful when you want to compare individuals to their own group‚Äôs average rather than the overall average:</p>
<ul>
<li><p><strong>Students nested in schools:</strong> Does a student who has higher SES <em>relative to their school</em> perform better? (Separates within-school SES effects from between-school differences)</p></li>
<li><p><strong>Employees nested in departments:</strong> Does an employee with more experience <em>than their departmental average</em> receive higher ratings? (Controls for department-level experience norms)</p></li>
<li><p><strong>Patients nested in clinics:</strong> Does a patient with higher symptom severity <em>compared to others at their clinic</em> respond differently to treatment? (Accounts for clinic-level severity differences)</p></li>
<li><p><strong>Athletes on different teams:</strong> Does a player with higher training hours <em>relative to their team</em> show better performance? (Separates individual effort from team training culture)</p></li>
</ul>
<p><strong>Bottom line:</strong> For ANCOVA-style questions (‚ÄúDoes X work, controlling for Y?‚Äù), use grand mean centering. Group mean centering answers a different question: ‚ÄúDoes deviation from one‚Äôs group predict outcomes?‚Äù</p>
</section>
<section id="key-takeaways-centering" class="slide level2" data-transition="none">
<h2>Key Takeaways: Centering</h2>
<table class="caption-top">
<colgroup>
<col style="width: 18%">
<col style="width: 27%">
<col style="width: 27%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th>Aspect</th>
<th>Uncentered</th>
<th>Grand Mean</th>
<th>Group Mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Intercept</strong></td>
<td>At education = 0</td>
<td>At overall mean</td>
<td>At each group‚Äôs mean</td>
</tr>
<tr class="even">
<td><strong>Education slope</strong></td>
<td>Same</td>
<td>Same</td>
<td>Same</td>
</tr>
<tr class="odd">
<td><strong>Program coefficient</strong></td>
<td>Between-group diff at edu=0</td>
<td>Between-group diff at mean edu</td>
<td>Between-group diff at group means</td>
</tr>
<tr class="even">
<td><strong>Use case</strong></td>
<td>Rarely meaningful</td>
<td>General interpretation</td>
<td>Multilevel models</td>
</tr>
</tbody>
</table>
<p><strong>The slopes are the same</strong>‚Äîcentering only changes the intercept interpretation!</p>
<p><strong>Coming soon:</strong> In multilevel modeling, group mean centering separates within-group from between-group effects.</p>
</section>
<section id="quick-reset" class="slide level2 content-minimal">
<h2>üßò Quick Reset</h2>
<p>We‚Äôve covered a lot of material on centering. Take a moment:</p>
<ul>
<li><strong>Stand up and stretch</strong> for 30 seconds</li>
<li><strong>Look away from your screen</strong> briefly</li>
</ul>
<div class="fragment">
<p>What‚Äôs coming next is one of the most important demonstrations in this course.</p>
<p>You‚Äôre about to see a ‚Äúhighly significant‚Äù finding <strong>completely vanish</strong>.</p>
</div>
</section>
<section id="critical-concept-ahead" class="slide level2 content-minimal">
<h2>‚ö†Ô∏è Critical Concept Ahead</h2>
<p>The next section demonstrates something that <strong>fundamentally changes how you interpret research findings</strong>.</p>
<p>You will see a ‚Äúhighly significant‚Äù result (p &lt; .001) <strong>completely disappear</strong> when we add one variable.</p>
<p>This is one of the most important lessons in the entire course. Stay with me.</p>
</section>
<section id="part-6-confoundinga-dramatic-example" class="slide level2 section-header" data-background="linear-gradient(135deg, #00591C 0%, #006F2D 50%, #008245 100%)">
<h2>Part 6: Confounding‚ÄîA Dramatic Example</h2>
<p><strong>Transition:</strong> In Part 4, we saw <strong>Partial Confounding</strong>‚Äîwhere the effect got smaller but stayed significant.</p>
<p>Now, we are going to see <strong>Total Confounding</strong>‚Äîwhere the effect completely disappears. This is the same mechanism (adjustment), just a more extreme case.</p>
</section>
<section id="what-is-confounding" class="slide level2 content-light">
<h2>What Is Confounding?</h2>
<p><strong>Confounding</strong> occurs when a third variable:</p>
<ol type="1">
<li>Is related to your predictor (X), AND</li>
<li>Is related to your outcome (Y)</li>
</ol>
<p>This creates a ‚Äúfalse‚Äù or ‚Äúinflated‚Äù relationship between X and Y.</p>
<p><strong>Plain English:</strong> Confounding is when something else explains the relationship you‚Äôre seeing, making you think X causes Y when really it‚Äôs the third variable doing the work.</p>
</section>
<section id="a-classic-example-ice-cream-and-drowning" class="slide level2 content-light">
<h2>A Classic Example: Ice Cream and Drowning</h2>
<p><strong>Observation:</strong> Ice cream sales are correlated with drowning deaths.</p>
<p><strong>Conclusion:</strong> Ice cream causes drowning? Ban ice cream!</p>
<p><strong>Reality:</strong> Both are caused by a <strong>confound</strong>‚Äîhot weather.</p>
<ul>
<li>Hot weather ‚Üí more ice cream sales</li>
<li>Hot weather ‚Üí more swimming ‚Üí more drowning</li>
</ul>
<p>Ice cream doesn‚Äôt cause drowning. The <em>apparent</em> relationship is confounded by temperature.</p>
</section>
<section id="real-world-example-simpsons-paradox" class="slide level2 content-light">
<h2>Real-World Example: Simpson‚Äôs Paradox</h2>
<p><strong>The Berkeley Admissions Case (1973):</strong></p>
<table class="caption-top">
<colgroup>
<col style="width: 18%">
<col style="width: 81%">
</colgroup>
<thead>
<tr class="header">
<th>Overall</th>
<th>Men admitted at higher rate than women</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>By department</td>
<td>Women admitted at equal or higher rates in several departments</td>
</tr>
</tbody>
</table>
<p>How? Women applied to more competitive departments. The ‚Äúgender effect‚Äù disappeared when department was held constant.</p>
<p>This is exactly what we‚Äôre doing with regression: revealing true effects by accounting for confounds.</p>
<p><em>Reference: Bickel, Hammel, &amp; O‚ÄôConnell (1975). Science.</em></p>
</section>
<section id="the-berkeley-data-actual-numbers" class="slide level2">
<h2>The Berkeley Data: Actual Numbers</h2>
<p><strong>Bickel, Hammel, &amp; O‚ÄôConnell (1975). <em>Science</em>, 187, 398-404.</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th></th>
<th>Men</th>
<th>Women</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Overall admission rate</strong></td>
<td>44%</td>
<td>35%</td>
</tr>
<tr class="even">
<td><strong>Conclusion?</strong></td>
<td>Discrimination against women?</td>
<td></td>
</tr>
</tbody>
</table>
<p>But when examined <strong>by department</strong>:</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Department</th>
<th>Men admitted</th>
<th>Women admitted</th>
<th>Women‚Äôs rate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>62%</td>
<td>82%</td>
<td><strong>Higher</strong></td>
</tr>
<tr class="even">
<td>B</td>
<td>63%</td>
<td>68%</td>
<td><strong>Higher</strong></td>
</tr>
<tr class="odd">
<td>C</td>
<td>37%</td>
<td>34%</td>
<td>Similar</td>
</tr>
<tr class="even">
<td>D</td>
<td>33%</td>
<td>35%</td>
<td>Similar</td>
</tr>
</tbody>
</table>
<p><strong>What happened?</strong> Women applied to more competitive departments (lower overall admission rates). The ‚Äúgender effect‚Äù was confounded by department choice.</p>
<p><em>This is exactly what our regression adjustment does‚Äîcompares within departments.</em></p>
</section>
<section id="confounding-in-clinical-research" class="slide level2">
<h2>Confounding in Clinical Research</h2>
<p><strong>A hypothetical clinical psychology example:</strong></p>
<p>Imagine a study finds that therapy clients who <strong>missed more sessions</strong> had <strong>worse outcomes</strong>. Conclusion: Attendance causes better outcomes‚Äîpush clients to attend!</p>
<p><strong>But what if researchers controlled for baseline severity‚Ä¶</strong></p>
<p>The effect might largely disappear. What could be happening?</p>
<ul>
<li>Clients with more severe symptoms might miss more sessions (too depressed to come)</li>
<li>Clients with more severe symptoms might have worse outcomes (harder to treat)</li>
<li>Severity would be confounding the attendance ‚Üí outcome relationship</li>
</ul>
<p><strong>This is exactly what our regression adjustment does‚Äîit asks: among clients with the same baseline severity, does attendance still predict outcomes?</strong></p>
</section>
<section id="why-this-matters-for-your-research" class="slide level2 content-light">
<h2>Why This Matters for Your Research</h2>
<p>Confounding can lead to:</p>
<table class="caption-top">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Problem</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>False positives</strong></td>
<td>Concluding a treatment works when it doesn‚Äôt</td>
</tr>
<tr class="even">
<td><strong>Inflated effects</strong></td>
<td>Thinking an effect is larger than it really is</td>
</tr>
<tr class="odd">
<td><strong>Wrong recommendations</strong></td>
<td>Adopting an ineffective intervention</td>
</tr>
<tr class="even">
<td><strong>Wasted resources</strong></td>
<td>Investing in something that doesn‚Äôt help</td>
</tr>
</tbody>
</table>
<p><strong>Multiple regression helps:</strong> By ‚Äúholding constant‚Äù the confounding variable, we can get closer to the true effect.</p>
</section>
<section id="when-the-effect-disappears" class="slide level2 content-minimal">
<h2>When the Effect Disappears</h2>
<p>Sometimes, adjusting for a covariate makes an effect <strong>completely disappear</strong>.</p>
<p>Let‚Äôs see a dramatic example‚Ä¶</p>
</section>
<section id="section-3" class="slide level2" data-background-image="images/ai-image-5.png" data-background-size="cover">
<h2></h2>
<div class="overlay-text-bottom">
<p><strong>Scenario:</strong> Which training method produces better skills?</p>
</div>
</section>
<section id="training-methods-a-dramatic-example" class="slide level2 content-light">
<h2>Training Methods: A Dramatic Example</h2>
<p>A company compares two training methods on skill test scores.</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Observation</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Method B average</td>
<td><strong>26 points higher</strong> than Method A</td>
</tr>
<tr class="even">
<td>p-value</td>
<td>&lt; .001 (highly significant!)</td>
</tr>
</tbody>
</table>
<p><strong>The CEO is ready to switch everyone to Method B.</strong></p>
<div class="fragment">
<p>But wait‚Ä¶ Method B participants also had <strong>6 more years of experience</strong> on average.</p>
<p><strong>Is Method B actually better? Or are we just seeing an experience effect?</strong></p>
</div>
</section>
<section id="training-data" class="slide level2">
<h2>Training Data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href=""></a>training_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../data/training_methods.csv"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">method</th>
<th style="text-align: right;">experience</th>
<th style="text-align: right;">test_score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Aaron</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">54</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brenda</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">56</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chad</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">62</td>
</tr>
<tr class="even">
<td style="text-align: left;">Diana</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">68</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Evan</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">72</td>
</tr>
<tr class="even">
<td style="text-align: left;">Faye</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grant</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">86</td>
</tr>
<tr class="even">
<td style="text-align: left;">Helen</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">88</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Isaac</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">92</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jenna</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">96</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Notice: Method A employees (Aaron through Evan) have 2-6 years experience, Method B employees (Faye through Jenna) have 8-12 years. The groups don‚Äôt overlap!</p>
<p><strong>Note:</strong> This is an extreme example to make the point crystal clear. In real data, groups usually overlap somewhat on the covariate‚Äîbut even partial differences can cause confounding.</p>
</section>
<section id="unadjusted-analysis" class="slide level2">
<h2>Unadjusted Analysis</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href=""></a>training_data <span class="ot">&lt;-</span> training_data <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">method =</span> <span class="fu">fct_relevel</span>(<span class="fu">as.factor</span>(method), <span class="st">"A"</span>))</span>
<span id="cb27-3"><a href=""></a></span>
<span id="cb27-4"><a href=""></a>lm_unadjusted <span class="ot">&lt;-</span> <span class="fu">lm</span>(test_score <span class="sc">~</span> method, <span class="at">data =</span> training_data)</span>
<span id="cb27-5"><a href=""></a><span class="fu">tidy</span>(lm_unadjusted)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">62.4</td>
<td style="text-align: right;">3.091925</td>
<td style="text-align: right;">20.181602</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">methodB</td>
<td style="text-align: right;">26.0</td>
<td style="text-align: right;">4.372642</td>
<td style="text-align: right;">5.946062</td>
<td style="text-align: right;">0.0003435</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Method B scores 26 points higher! p &lt; .001‚Äîvery significant!</p>
</section>
<section id="augment-the-unadjusted-training-model" class="slide level2">
<h2>Augment the Unadjusted Training Model</h2>
<p>Make predicted scores for each person/group</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href=""></a><span class="co"># Create augmented data with predictions and residuals</span></span>
<span id="cb28-2"><a href=""></a>training_unadj_augmented <span class="ot">&lt;-</span> <span class="fu">augment</span>(lm_unadjusted, <span class="at">data =</span> training_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell augment">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 5%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">method</th>
<th style="text-align: right;">experience</th>
<th style="text-align: right;">test_score</th>
<th style="text-align: right;">.fitted</th>
<th style="text-align: right;">.resid</th>
<th style="text-align: right;">.hat</th>
<th style="text-align: right;">.sigma</th>
<th style="text-align: right;">.cooksd</th>
<th style="text-align: right;">.std.resid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Aaron</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">62.4</td>
<td style="text-align: right;">-8.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">6.482945</td>
<td style="text-align: right;">0.2306485</td>
<td style="text-align: right;">-1.3583771</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brenda</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">62.4</td>
<td style="text-align: right;">-6.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">6.878538</td>
<td style="text-align: right;">0.1338912</td>
<td style="text-align: right;">-1.0349540</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chad</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">62.4</td>
<td style="text-align: right;">-0.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">7.389181</td>
<td style="text-align: right;">0.0005230</td>
<td style="text-align: right;">-0.0646846</td>
</tr>
<tr class="even">
<td style="text-align: left;">Diana</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">62.4</td>
<td style="text-align: right;">5.6</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">7.002040</td>
<td style="text-align: right;">0.1025105</td>
<td style="text-align: right;">0.9055847</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Evan</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">62.4</td>
<td style="text-align: right;">9.6</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">6.178303</td>
<td style="text-align: right;">0.3012552</td>
<td style="text-align: right;">1.5524309</td>
</tr>
<tr class="even">
<td style="text-align: left;">Faye</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">-8.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">6.482945</td>
<td style="text-align: right;">0.2306485</td>
<td style="text-align: right;">-1.3583771</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grant</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">-2.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">7.321202</td>
<td style="text-align: right;">0.0188285</td>
<td style="text-align: right;">-0.3881077</td>
</tr>
<tr class="even">
<td style="text-align: left;">Helen</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">-0.4</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">7.389181</td>
<td style="text-align: right;">0.0005230</td>
<td style="text-align: right;">-0.0646846</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Isaac</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">3.6</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">7.232862</td>
<td style="text-align: right;">0.0423640</td>
<td style="text-align: right;">0.5821616</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jenna</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">7.6</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">6.656898</td>
<td style="text-align: right;">0.1888075</td>
<td style="text-align: right;">1.2290078</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualizing-the-unadjusted-training-model-code" class="slide level2" data-transition="none">
<h2>Visualizing the Unadjusted Training Model: Code</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href=""></a><span class="co"># Plot data points and predicted values</span></span>
<span id="cb29-2"><a href=""></a><span class="fu">ggplot</span>(training_unadj_augmented, <span class="fu">aes</span>(<span class="at">x =</span> method,</span>
<span id="cb29-3"><a href=""></a>                                      <span class="at">y =</span> test_score,</span>
<span id="cb29-4"><a href=""></a>                                      <span class="at">group =</span> method)) <span class="sc">+</span></span>
<span id="cb29-5"><a href=""></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb29-6"><a href=""></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> .fitted, <span class="at">ymax =</span> .fitted),</span>
<span id="cb29-7"><a href=""></a>                <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="dv">2</span>, <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb29-8"><a href=""></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Training Method"</span>, <span class="at">y =</span> <span class="st">"Test Score"</span>) <span class="sc">+</span></span>
<span id="cb29-9"><a href=""></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="plot-unadjusted-training-model" class="slide level2" data-transition="none">
<h2>Plot Unadjusted Training Model</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/training-unadj-augment-plot-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p>The lines show ≈∑ for each group‚ÄîMethod B looks 26 points higher!</p>
</section>
<section id="prediction-challenge" class="slide level2 content-light">
<h2>Prediction Challenge</h2>
<p>The unadjusted coefficient is 26 points (p &lt; .001). Method B participants have 6 more years of experience on average.</p>
<blockquote>
<p><strong>Before I show you the adjusted result, make a prediction:</strong></p>
</blockquote>
<p>üí¨ <strong>In the chat:</strong> Will the Method B coefficient go UP, DOWN, or STAY THE SAME when we add experience? And roughly by how much?</p>
<p>Take 30 seconds to commit to a prediction. I‚Äôll ask a few people to share their reasoning.</p>
</section>
<section id="adjusted-analysis" class="slide level2">
<h2>Adjusted Analysis</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href=""></a>lm_adjusted <span class="ot">&lt;-</span> <span class="fu">lm</span>(test_score <span class="sc">~</span> method <span class="sc">+</span> experience, <span class="at">data =</span> training_data)</span>
<span id="cb30-2"><a href=""></a><span class="fu">tidy</span>(lm_adjusted)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">45.2</td>
<td style="text-align: right;">1.341641</td>
<td style="text-align: right;">33.6900909</td>
<td style="text-align: right;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left;">methodB</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">1.989975</td>
<td style="text-align: right;">0.1005038</td>
<td style="text-align: right;">0.9227624</td>
</tr>
<tr class="odd">
<td style="text-align: left;">experience</td>
<td style="text-align: right;">4.3</td>
<td style="text-align: right;">0.300000</td>
<td style="text-align: right;">14.3333333</td>
<td style="text-align: right;">0.0000019</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="augment-the-adjusted-training-model" class="slide level2">
<h2>Augment the Adjusted Training Model</h2>
<p>Make predicted scores for each person</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href=""></a><span class="co"># Create augmented data with predictions and residuals</span></span>
<span id="cb31-2"><a href=""></a>training_adj_augmented <span class="ot">&lt;-</span> <span class="fu">augment</span>(lm_adjusted, <span class="at">data =</span> training_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell augment">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 5%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">name</th>
<th style="text-align: right;">employee_id</th>
<th style="text-align: left;">method</th>
<th style="text-align: right;">experience</th>
<th style="text-align: right;">test_score</th>
<th style="text-align: right;">.fitted</th>
<th style="text-align: right;">.resid</th>
<th style="text-align: right;">.hat</th>
<th style="text-align: right;">.sigma</th>
<th style="text-align: right;">.cooksd</th>
<th style="text-align: right;">.std.resid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Aaron</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">53.8</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">1.445299</td>
<td style="text-align: right;">0.0082305</td>
<td style="text-align: right;">0.1924501</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brenda</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">58.1</td>
<td style="text-align: right;">-2.1</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">1.058301</td>
<td style="text-align: right;">0.3629630</td>
<td style="text-align: right;">-1.8073922</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chad</td>
<td style="text-align: right;">3</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">62</td>
<td style="text-align: right;">62.4</td>
<td style="text-align: right;">-0.4</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">1.437591</td>
<td style="text-align: right;">0.0092593</td>
<td style="text-align: right;">-0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left;">Diana</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">66.7</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">1.313181</td>
<td style="text-align: right;">0.1390947</td>
<td style="text-align: right;">1.1188619</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Evan</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">72</td>
<td style="text-align: right;">71.0</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">1.349897</td>
<td style="text-align: right;">0.2057613</td>
<td style="text-align: right;">0.9622504</td>
</tr>
<tr class="even">
<td style="text-align: left;">Faye</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">79.8</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">1.445299</td>
<td style="text-align: right;">0.0082305</td>
<td style="text-align: right;">0.1924501</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Grant</td>
<td style="text-align: right;">7</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">84.1</td>
<td style="text-align: right;">1.9</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">1.139201</td>
<td style="text-align: right;">0.2971193</td>
<td style="text-align: right;">1.6352596</td>
</tr>
<tr class="even">
<td style="text-align: left;">Helen</td>
<td style="text-align: right;">8</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">88</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">-0.4</td>
<td style="text-align: right;">0.20</td>
<td style="text-align: right;">1.437591</td>
<td style="text-align: right;">0.0092593</td>
<td style="text-align: right;">-0.3333333</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Isaac</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">92.7</td>
<td style="text-align: right;">-0.7</td>
<td style="text-align: right;">0.25</td>
<td style="text-align: right;">1.411067</td>
<td style="text-align: right;">0.0403292</td>
<td style="text-align: right;">-0.6024641</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jenna</td>
<td style="text-align: right;">10</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">96</td>
<td style="text-align: right;">97.0</td>
<td style="text-align: right;">-1.0</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">1.349897</td>
<td style="text-align: right;">0.2057613</td>
<td style="text-align: right;">-0.9622504</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualizing-the-adjusted-training-model-code" class="slide level2" data-transition="none">
<h2>Visualizing the Adjusted Training Model: Code</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href=""></a><span class="co"># Plot data points and predicted values (parallel lines)</span></span>
<span id="cb32-2"><a href=""></a><span class="fu">ggplot</span>(training_adj_augmented, <span class="fu">aes</span>(<span class="at">x =</span> experience,</span>
<span id="cb32-3"><a href=""></a>                                    <span class="at">y =</span> test_score,</span>
<span id="cb32-4"><a href=""></a>                                    <span class="at">color =</span> method,</span>
<span id="cb32-5"><a href=""></a>                                    <span class="at">shape =</span> method)) <span class="sc">+</span></span>
<span id="cb32-6"><a href=""></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb32-7"><a href=""></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> .fitted), <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb32-8"><a href=""></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Years of Experience"</span>, <span class="at">y =</span> <span class="st">"Test Score"</span>) <span class="sc">+</span></span>
<span id="cb32-9"><a href=""></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="plot-adjusted-training-model-1" class="slide level2" data-transition="none">
<h2>Plot Adjusted Training Model 1</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/training-adj-augment-plot-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p>The lines overlap‚Äîthere‚Äôs no vertical gap! The method effect disappears when we account for experience.</p>
</section>
<section id="plot-adjusted-training-model-2" class="slide level2 smaller" data-transition="none">
<h2>Plot Adjusted Training Model 2</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/training-adj-augment-plot-2-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
<h3 id="the-danger-of-extrapolation">The Danger of Extrapolation</h3>
<p>Notice that our groups don‚Äôt overlap at all! Method A employees <em>never</em> have more than 6 years of experience.</p>
<p>The model is <strong>guessing</strong> (extrapolating) what Method A employees would score if they had 10 years of experience based on the linear trend.</p>
<p><strong>Key Lesson:</strong> In real research, if groups have totally different backgrounds (no ‚Äúcommon support‚Äù), mathematical adjustment is risky. We are trusting the line extends perfectly straight into unknown territory.</p>
<ul>
<li><strong>Lack of Common Support:</strong> When there is no overlap in the predictor (Experience) between groups, the adjusted comparison is purely theoretical. We are relying entirely on the assumption that the lines remain parallel in the empty space.</li>
</ul>
</section>
<section id="plot-adjusted-training-model-3d" class="slide level2" data-transition="none">
<h2>Plot Adjusted Training Model (3D)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-397f0ae27fb6d2086bbe" style="width:768px;height:576px;"></div>
<script type="application/json" data-for="htmlwidget-397f0ae27fb6d2086bbe">{"x":{"visdat":{"1511a6b1be5d0":["function () ","plotlyVisDat"],"1511a748cf19f":["function () ","data"],"1511a514b3980":["function () ","data"],"1511a21ac2c32":["function () ","data"],"1511a2e8997e3":["function () ","data"]},"cur_data":"1511a2e8997e3","attrs":{"1511a748cf19f":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":6,"color":"#F8766D"},"name":"A","inherit":true},"1511a514b3980":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"lines","line":{"width":4,"color":"#F8766D"},"showlegend":false,"inherit":true},"1511a21ac2c32":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":6,"color":"#00BFC4","symbol":"diamond"},"name":"B","inherit":true},"1511a2e8997e3":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"lines","line":{"width":4,"color":"#00BFC4"},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"Experience"},"yaxis":{"title":"Method","tickvals":[0,1],"ticktext":["A","B"]},"zaxis":{"title":"Test Score"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[2,3,4,5,6],"y":[0,0,0,0,0],"z":[54,56,62,68,72],"type":"scatter3d","mode":"markers","marker":{"color":"#F8766D","size":6,"line":{"color":"rgba(31,119,180,1)"}},"name":"A","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"frame":null},{"x":[2,3,4,5,6],"y":[0,0,0,0,0],"z":[53.800000000000026,58.100000000000023,62.40000000000002,66.700000000000017,71.000000000000014],"type":"scatter3d","mode":"lines","line":{"color":"#F8766D","width":4},"showlegend":false,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"frame":null},{"x":[8,9,10,11,12],"y":[1,1,1,1,1],"z":[80,86,88,92,96],"type":"scatter3d","mode":"markers","marker":{"color":"#00BFC4","size":6,"symbol":"diamond","line":{"color":"rgba(44,160,44,1)"}},"name":"B","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"frame":null},{"x":[8,9,10,11,12],"y":[1,1,1,1,1],"z":[79.800000000000011,84.100000000000009,88.400000000000006,92.700000000000003,97],"type":"scatter3d","mode":"lines","line":{"color":"#00BFC4","width":4},"showlegend":false,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The two parallel lines from the 2D plot are now shown in 3D space. Notice how the lines overlap vertically‚Äîthere‚Äôs essentially no gap between methods when experience is accounted for.</p>
</section>
<section id="the-dramatic-comparison" class="slide level2">
<h2>The Dramatic Comparison</h2>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 30%">
<col style="width: 26%">
<col style="width: 10%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Analysis</th>
<th style="text-align: right;">Method B Coefficient</th>
<th style="text-align: left;">p-value</th>
<th style="text-align: left;">Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Unadjusted</td>
<td style="text-align: right;">26.0</td>
<td style="text-align: left;">&lt; .001</td>
<td style="text-align: left;">Method B is much better!</td>
</tr>
<tr class="even">
<td style="text-align: left;">Adjusted for experience</td>
<td style="text-align: right;">0.2</td>
<td style="text-align: left;">= .92</td>
<td style="text-align: left;">No meaningful difference</td>
</tr>
</tbody>
</table>
</div>
</div>
<blockquote>
<p><strong>The apparent effect completely disappears!</strong></p>
</blockquote>
</section>
<section id="why-this-happened-aaron-vs.-jenna" class="slide level2">
<h2>Why This Happened: Aaron vs.&nbsp;Jenna</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>Employee</th>
<th>Method</th>
<th>Experience</th>
<th>Test Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Aaron</td>
<td>A</td>
<td>2 years</td>
<td>54</td>
</tr>
<tr class="even">
<td>Jenna</td>
<td>B</td>
<td>12 years</td>
<td>96</td>
</tr>
<tr class="odd">
<td><strong>Difference</strong></td>
<td></td>
<td><strong>10 years!</strong></td>
<td><strong>42 points</strong></td>
</tr>
</tbody>
</table>
<p>Is Jenna‚Äôs higher score due to Method B‚Äîor her 10 extra years of experience?</p>
<p><strong>The adjusted analysis says:</strong> There‚Äôs approximately zero difference between methods when we account for experience.</p>
</section>
<section id="confounding-summary" class="slide level2 content-light">
<h2>‚úì Confounding: Summary</h2>
<table class="caption-top">
<thead>
<tr class="header">
<th>What Happened</th>
<th>Training Methods Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Unadjusted result</td>
<td>Method B scored 26 points higher (p &lt; .001)</td>
</tr>
<tr class="even">
<td>Hidden difference</td>
<td>Method B had 6 more years experience</td>
</tr>
<tr class="odd">
<td>Adjusted result</td>
<td>Method B scored 0.4 points higher (p = .92)</td>
</tr>
<tr class="even">
<td>Conclusion</td>
<td>Experience was the real cause, not the method</td>
</tr>
</tbody>
</table>
<p><strong>The ‚Äúeffect‚Äù was an illusion created by the confound.</strong></p>
<p>üëÄ <strong>Take a moment:</strong> Look at those two numbers. A ‚Äúhighly significant‚Äù result (p &lt; .001) became completely non-significant (p = .92).</p>
<p>This is why understanding confounding matters for your research.</p>
</section>
<section id="additional-statistics-training-models" class="slide level2">
<h2>Additional Statistics: Training Models</h2>
<p><strong>R¬≤ from glance() for both models:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href=""></a><span class="fu">glance</span>(lm_unadjusted)  <span class="co"># Unadjusted model</span></span>
<span id="cb33-2"><a href=""></a><span class="fu">glance</span>(lm_adjusted)    <span class="co"># Adjusted model</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">model</th>
<th style="text-align: right;">r.squared</th>
<th style="text-align: right;">adj.r.squared</th>
<th style="text-align: right;">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Unadjusted</td>
<td style="text-align: right;">0.8154796</td>
<td style="text-align: right;">0.7924146</td>
<td style="text-align: right;">0.0003435</td>
</tr>
<tr class="even">
<td style="text-align: left;">Adjusted</td>
<td style="text-align: right;">0.9939201</td>
<td style="text-align: right;">0.9921830</td>
<td style="text-align: right;">0.0000000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="additional-statistics-training-models-1b" class="slide level2 smaller">
<h2>Additional Statistics: Training Models 1b</h2>
<p><strong>95% Confidence Intervals for R¬≤ using MBESS:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href=""></a><span class="fu">library</span>(MBESS)</span>
<span id="cb34-2"><a href=""></a></span>
<span id="cb34-3"><a href=""></a><span class="co"># For unadjusted model: df.1 = number of predictors, df.2 = residual df</span></span>
<span id="cb34-4"><a href=""></a><span class="fu">ci.R2</span>(<span class="at">R2 =</span> <span class="fu">glance</span>(lm_unadjusted)<span class="sc">$</span>r.squared,</span>
<span id="cb34-5"><a href=""></a>      <span class="at">df.1 =</span> <span class="dv">1</span>,   <span class="co"># 1 predictor (method)</span></span>
<span id="cb34-6"><a href=""></a>      <span class="at">df.2 =</span> <span class="fu">glance</span>(lm_unadjusted)<span class="sc">$</span>df.residual,</span>
<span id="cb34-7"><a href=""></a>      <span class="at">conf.level =</span> <span class="fl">0.95</span>,</span>
<span id="cb34-8"><a href=""></a>      <span class="at">Random.Predictors =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Lower.Conf.Limit.R2
[1] 0.37061

$Prob.Less.Lower
[1] 0.025

$Upper.Conf.Limit.R2
[1] 0.8975077

$Prob.Greater.Upper
[1] 0.025</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href=""></a><span class="co"># For adjusted model: 2 predictors (method + experience)</span></span>
<span id="cb36-2"><a href=""></a><span class="fu">ci.R2</span>(<span class="at">R2 =</span> <span class="fu">glance</span>(lm_adjusted)<span class="sc">$</span>r.squared,</span>
<span id="cb36-3"><a href=""></a>      <span class="at">df.1 =</span> <span class="dv">2</span>,   <span class="co"># 2 predictors</span></span>
<span id="cb36-4"><a href=""></a>      <span class="at">df.2 =</span> <span class="fu">glance</span>(lm_adjusted)<span class="sc">$</span>df.residual,</span>
<span id="cb36-5"><a href=""></a>      <span class="at">conf.level =</span> <span class="fl">0.95</span>,</span>
<span id="cb36-6"><a href=""></a>      <span class="at">Random.Predictors =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Lower.Conf.Limit.R2
[1] 0.9644109

$Prob.Less.Lower
[1] 0.025

$Upper.Conf.Limit.R2
[1] 0.9962074

$Prob.Greater.Upper
[1] 0.025</code></pre>
</div>
</div>
</section>
<section id="additional-statistics-training-models-2" class="slide level2">
<h2>Additional Statistics: Training Models 2</h2>
<p><strong>Cohen‚Äôs d for unadjusted comparison:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href=""></a><span class="fu">library</span>(effsize)</span>
<span id="cb38-2"><a href=""></a><span class="fu">cohen.d</span>(test_score <span class="sc">~</span> method, <span class="at">data =</span> training_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Cohen's d

d estimate: -3.76062 (large)
95 percent confidence interval:
    lower     upper 
-6.186984 -1.334255 </code></pre>
</div>
</div>
<p><strong>Descriptive Statistics by Method:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href=""></a>training_data <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href=""></a>  <span class="fu">group_by</span>(method) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href=""></a>  <span class="fu">summarize</span>(<span class="at">mean_test_score =</span> <span class="fu">mean</span>(test_score),</span>
<span id="cb40-4"><a href=""></a>            <span class="at">sd_test_score =</span> <span class="fu">sd</span>(test_score),</span>
<span id="cb40-5"><a href=""></a>            <span class="at">mean_experience =</span> <span class="fu">mean</span>(experience),</span>
<span id="cb40-6"><a href=""></a>            <span class="at">n =</span> <span class="fu">n</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">method</th>
<th style="text-align: right;">mean_test_score</th>
<th style="text-align: right;">sd_test_score</th>
<th style="text-align: right;">mean_experience</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: right;">62.4</td>
<td style="text-align: right;">7.668116</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: right;">88.4</td>
<td style="text-align: right;">6.066300</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="results-paragraph-training-methods" class="slide level2 results-paragraph">
<h2>Results Paragraph: Training Methods</h2>
<p>We examined whether Training Method B improved test scores compared to Method A (<em>N</em> = 10; <em>n</em> = 5 Method A, <em>n</em> = 5 Method B). We conducted two analyses: one comparing methods directly, and one accounting for employees‚Äô years of experience.</p>
<p><strong>Unadjusted analysis.</strong> Method A participants (<em>n</em> = 5) had a mean test score of 62.4 (<em>SD</em> = 7.67). Method B participants (<em>n</em> = 5) had a mean test score of 88.4 (<em>SD</em> = 6.07); this is 26 points higher than Method A. Without adjusting for experience, this difference was statistically significant, <em>b</em> = 26, 95% CI [15.92, 36.08], <em>t</em>(8) = 5.95, <em>p</em> &lt; .001, <em>d</em> = 3.76, see Table 1. The unadjusted model explained 81.5% of variance, <em>R</em>¬≤ = 0.82, 95% CI [0.37, 0.9]. Based on this analysis alone, we would conclude that Method B is dramatically more effective.</p>
</section>
<section id="results-paragraph-training-methods-continued" class="slide level2 results-paragraph">
<h2>Results Paragraph: Training Methods (continued)</h2>
<p><strong>Adjusted analysis.</strong> However, the two groups differed substantially in experience: Method B participants had much more experience (<em>M</em> = 10 years) compared to Method A participants (<em>M</em> = 4 years). This experience imbalance could create a false appearance of method effectiveness. To address this, we conducted a second analysis controlling for experience.</p>
<p>After adjusting for experience, Method B participants scored only 0.2 points higher than Method A participants who had the same experience level, <em>b</em> = 0.2, 95% CI [-4.51, 4.91], <em>t</em>(7) = 0.1, <em>p</em> = .923, see Table 2. The adjusted model explained 99.4% of variance, <em>R</em>¬≤ = 0.99, 95% CI [0.96, 1]. This difference was not statistically significant. The ‚Äúadjusted‚Äù comparison asks: if we compare two employees with identical years of experience, how would their test scores differ depending on which training method they received? The answer is that there is essentially no difference.</p>
</section>
<section id="results-paragraph-training-methods-continued-2" class="slide level2 results-paragraph">
<h2>Results Paragraph: Training Methods (continued 2)</h2>
<p><strong>Why did the coefficient change?</strong> The method coefficient changed dramatically, from 26 to 0.2, because the unadjusted comparison was completely confounded by experience differences. Method B employees had much more experience, and experience strongly predicts test scores. The simple comparison made it look like Method B worked better, when in reality Method B just happened to have more experienced employees. The adjusted analysis removes this confound by statistically comparing employees at the same experience level.</p>
<p><strong>Conclusion.</strong> After controlling for experience, Method B showed no advantage over Method A. The unadjusted analysis was misleading because it ignored the fact that Method B participants had far more experience. This is a classic example of confounding.</p>
</section>
<section id="polling-question-6-confounding" class="slide level2 content-light">
<h2>Polling Question 6: Confounding</h2>
<blockquote>
<p>Why did the Method B coefficient change from 26 to 0?</p>
</blockquote>
<ul>
<li><ol type="A">
<li>There was a calculation error</li>
</ol></li>
<li><ol start="2" type="A">
<li>The groups differed on experience, which was the real cause of the outcome difference</li>
</ol></li>
<li><ol start="3" type="A">
<li>Method B actually made performance worse</li>
</ol></li>
<li><ol start="4" type="A">
<li>The sample size was too small</li>
</ol></li>
</ul>
</section>
<section id="polling-question-6-answer" class="slide level2 content-light">
<h2>Polling Question 6: Answer</h2>
<p><strong>Correct answer: B) The groups differed on experience, which was the real cause of the outcome difference</strong></p>
<p>This reinforces the confounding lesson:</p>
<ul>
<li>The unadjusted coefficient (26) mixed the method effect with the experience effect</li>
<li>When we ‚Äúheld experience constant,‚Äù only the method effect remained</li>
<li>That remaining effect was essentially zero (0.4, p = .92)</li>
<li><strong>Conclusion:</strong> Experience was doing all the work; the training method didn‚Äôt matter</li>
</ul>
</section>
<section id="part-7-confounding-and-solutions" class="slide level2 section-header" data-background="linear-gradient(135deg, #005389 0%, #0067A1 50%, #0078AF 100%)">
<h2>Part 7: Confounding and Solutions</h2>
</section>
<section id="how-confounding-works" class="slide level2 size-85" data-transition="none">
<h2>How Confounding Works</h2>
<p>Remember the <strong>confounder</strong> diagram from our multiple regression lecture?</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/confounding-diagram-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
<p><strong>X</strong> = Training Method (predictor) | <strong>C</strong> = Experience (confounder) | <strong>Y</strong> = Test Score (outcome)</p>
<p>The red arrows show the <strong>back door path</strong>: Experience caused both the training assignment AND test scores‚Äîmaking it <em>look</em> like Method B worked better.</p>
<p><strong>Controlling for Experience closes this back door</strong>, revealing the true direct effect (which was zero!).</p>
</section>
<section id="common-question-is-this-mediation" class="slide level2">
<h2>Common Question: Is this Mediation?</h2>
<p><strong>Student Question:</strong> ‚ÄúExperience predicts the program choice AND the outcome. Is experience a <strong>mediator</strong>? Did the program <em>cause</em> them to get more experience?‚Äù</p>
<p><strong>Answer:</strong> No.</p>
<ul>
<li><strong>Mediator:</strong> The treatment causes the intermediate variable (Program <span class="math inline">\(\rightarrow\)</span> Experience <span class="math inline">\(\rightarrow\)</span> Outcome).</li>
<li><strong>Confounder:</strong> The variable existed <em>before</em> the treatment selection.</li>
</ul>
<p><em>In this example, Method B employees had 12 years of experience <strong>before</strong> they ever started the training. Therefore, it is a confounder.</em></p>
</section>
<section id="breakout-challenge-spot-the-confound" class="slide level2">
<h2>Breakout Challenge: Spot the Confound</h2>
<p><strong>Scenario:</strong> A study finds that coffee drinkers have higher rates of heart disease than non-coffee drinkers. The researchers conclude coffee causes heart disease.</p>
<p><strong>In your breakout room:</strong></p>
<ol type="1">
<li><p>What‚Äôs a potential confounding variable? (Hint: What else might differ between coffee drinkers and non-drinkers?)</p></li>
<li><p>Draw a simple diagram like the one we just saw:</p>
<ul>
<li>Box 1: Coffee drinking</li>
<li>Box 2: Heart disease</li>
<li>Box 3: Your confound</li>
<li>Draw arrows showing the relationships</li>
</ul></li>
<li><p>If we ‚Äúheld constant‚Äù your confound, what might happen to the coffee ‚Üí heart disease relationship?</p></li>
</ol>
<p><strong>When you return:</strong> Each room shares their confound in one sentence.</p>
</section>
<section id="the-hidden-threat-unmeasured-confounds" class="slide level2">
<h2>The Hidden Threat: Unmeasured Confounds</h2>
<p>We adjusted for <strong>experience</strong> and the effect disappeared. Problem solved?</p>
<p>Not quite. Without random assignment, there‚Äôs always a lurking question:</p>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>What else might differ between groups?</strong></p>
</div>
<div class="callout-content">
<p>In our training study, Method B employees had more experience. But what if they also differed in:</p>
<ul>
<li><strong>Motivation</strong> (maybe more motivated employees chose Method B)</li>
<li><strong>Prior training</strong> (maybe they had better foundational skills)</li>
<li><strong>Manager quality</strong> (maybe better managers recommended Method B)</li>
</ul>
<p>We didn‚Äôt measure these variables‚Äîso we can‚Äôt adjust for them.</p>
</div>
</div>
</div>
<p><strong>The uncomfortable truth:</strong> With observational data, we can only control for confounds we <em>thought to measure</em>. Unknown confounds remain hidden, silently biasing our results.</p>
<p>This is why <strong>random assignment</strong> is considered the gold standard: unlike statistical adjustment, it has the <em>potential</em> to balance even unmeasured confounds. But as we‚Äôll see shortly, this theoretical advantage has important limitations in practice.</p>
</section>
<section id="how-randomization-is-supposed-to-help-1" class="slide level2 content-light" data-transition="none">
<h2>How Randomization Is <em>Supposed</em> to Help 1</h2>
<p>In a <strong>randomized experiment</strong>, we flip a coin to assign people to groups.</p>
<p>The <em>idea</em> is:</p>
<ul>
<li>Experienced people are equally likely to be in Method A or B</li>
<li>Education levels are balanced across groups</li>
<li>ALL potential confounders (even ones we didn‚Äôt measure) are balanced</li>
</ul>
</section>
<section id="how-randomization-is-supposed-to-help-2" class="slide level2 content-light" data-transition="none">
<h2>How Randomization Is <em>Supposed</em> to Help 2</h2>
<p><strong>In theory:</strong> The unadjusted comparison IS the fair comparison, because randomization ‚Äúcloses the back doors‚Äù for us.</p>
<p>This is why randomized controlled trials (RCTs) are considered the gold standard for causal inference. But there are complications with randomization.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/randomization-balance-visual-1.png" class="quarto-figure quarto-figure-center" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="but-waitdoes-randomization-really-work" class="slide level2 content-light">
<h2>But Wait‚ÄîDoes Randomization Really Work?</h2>
<p><strong>Common Assumption:</strong> Random assignment removes the effects of confounding variables</p>
<div class="fragment">
<p><strong>The Reality:</strong> Randomization guarantees balance <em>in expectation</em> (across infinite replications), not for any single study. It may be true on average over infinite studies, but it‚Äôs unlikely to be true in <em>your</em> study.</p>
</div>
<div class="fragment">
<p><strong>Key Finding:</strong> Nguyen et al.&nbsp;(2017) reanalyzed two large clinical trials and found that simple randomization only reliably balanced covariates when N ‚â• 1,000 <em>total</em> (approximately 500 per group)</p>
</div>
<div class="fragment">
<blockquote>
<p>‚ÄúConclusions drawn from completely randomized trials enrolling a few participants may not be reliable.‚Äù</p>
<p>‚Äî Nguyen et al.&nbsp;(2017), <em>Journal of Clinical Epidemiology</em></p>
</blockquote>
</div>
</section>
<section id="the-mathematics-of-chance-imbalance" class="slide level2">
<h2>The Mathematics of Chance Imbalance</h2>
<p>When you randomly assign <em>n</em> participants to each of two groups, the standardized mean difference (SMD) on any covariate has:</p>
<ul>
<li><strong>Expected value:</strong> 0</li>
<li><strong>Standard error:</strong> <span class="math inline">\(SE = \sqrt{\frac{2}{n}}\)</span></li>
</ul>
<div class="fragment">
<table class="caption-top">
<thead>
<tr class="header">
<th>n per group</th>
<th>Total N</th>
<th>SE of SMD</th>
<th>95% CI for SMD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>30</td>
<td>60</td>
<td>0.258</td>
<td>¬±0.506</td>
</tr>
<tr class="even">
<td>50</td>
<td>100</td>
<td>0.200</td>
<td>¬±0.392</td>
</tr>
<tr class="odd">
<td>100</td>
<td>200</td>
<td>0.141</td>
<td>¬±0.277</td>
</tr>
<tr class="even">
<td>500</td>
<td>1000</td>
<td>0.063</td>
<td>¬±0.124</td>
</tr>
<tr class="odd">
<td>1000</td>
<td>2000</td>
<td>0.045</td>
<td>¬±0.088</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<p><strong>Interpretation:</strong> With n = 30 per group, an SMD of ¬±0.5 (a ‚Äúmedium‚Äù effect) can occur purely by chance</p>
</div>
<div class="fragment">
<p><strong>And it gets worse‚Ä¶</strong> This is for just <em>one</em> covariate. Real studies have many.</p>
</div>
</section>
<section id="the-multiple-covariate-problem" class="slide level2">
<h2>The Multiple Covariate Problem</h2>
<p>That last table showed chance imbalance for a <em>single</em> covariate. But real studies measure many potential confounds.</p>
<p><strong>Critical insight:</strong> The probability of balancing <em>all</em> covariates drops rapidly</p>
<p><span class="math display">\[P(\text{all covariates balanced}) \approx P(\text{one balanced})^k\]</span></p>
<p>where <em>k</em> = the number of covariates you need to balance</p>
<div class="fragment">
<p><strong>Probability that ALL k covariates are balanced (|SMD| &lt; 0.10):</strong></p>
<table class="caption-top">
<thead>
<tr class="header">
<th>n per group</th>
<th>Total N</th>
<th>k = 5</th>
<th>k = 10</th>
<th>k = 15</th>
<th>k = 20</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>30</td>
<td>60</td>
<td>0.3%</td>
<td>&lt;0.1%</td>
<td>&lt;0.1%</td>
<td>&lt;0.1%</td>
</tr>
<tr class="even">
<td>50</td>
<td>100</td>
<td>0.8%</td>
<td>&lt;0.1%</td>
<td>&lt;0.1%</td>
<td>&lt;0.1%</td>
</tr>
<tr class="odd">
<td>100</td>
<td>200</td>
<td>3.8%</td>
<td>0.1%</td>
<td>&lt;0.1%</td>
<td>&lt;0.1%</td>
</tr>
<tr class="even">
<td>250</td>
<td>500</td>
<td>21.8%</td>
<td>4.8%</td>
<td>1.0%</td>
<td>0.2%</td>
</tr>
<tr class="odd">
<td>500</td>
<td>1000</td>
<td>54.5%</td>
<td>29.7%</td>
<td>16.2%</td>
<td>8.8%</td>
</tr>
<tr class="even">
<td>1000</td>
<td>2000</td>
<td>88.1%</td>
<td>77.6%</td>
<td>68.4%</td>
<td>60.3%</td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<p><strong>Example:</strong> With 10 covariates and n = 100 per group, there‚Äôs only a 0.1% chance that ALL covariates are balanced</p>
</div>
</section>
<section id="the-multiple-covariate-problem-visualized" class="slide level2" data-transition="none">
<h2>The Multiple Covariate Problem: Visualized</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/covariate-heatmap-1.png" class="quarto-figure quarto-figure-center" width="864"></p>
</figure>
</div>
</div>
</div>
<p>The ‚Äúsea of red‚Äù shows why simple randomization fails in typical psychology studies: with multiple covariates and modest sample sizes, achieving balance on ALL variables is nearly impossible by chance alone.</p>
</section>
<section id="practical-solutions-design-phase" class="slide level2 content-light">
<h2>Practical Solutions: Design Phase</h2>
<p><strong>Restricted randomization</strong> = any procedure that constrains random assignment to improve covariate balance while preserving the benefits of randomization</p>
<div class="fragment">
<p><strong>Common methods:</strong></p>
<ul>
<li><strong>Block randomization:</strong> Create blocks based on key covariates (e.g., gender), then randomize <em>within</em> blocks</li>
<li><strong>Stratified randomization:</strong> Extend blocking to multiple covariates simultaneously</li>
<li><strong>Minimization:</strong> Sequentially assign participants to the group that minimizes overall imbalance</li>
<li><strong>Rerandomization:</strong> Generate a random assignment, check balance, and re-randomize if a balance criterion is not met</li>
</ul>
</div>
</section>
<section id="practical-solutions-analysis-phase" class="slide level2 content-light">
<h2>Practical Solutions: Analysis Phase</h2>
<p><strong>Include potential confounds as covariates in your analysis model (ANCOVA)</strong></p>
<div class="fragment">
<p><strong>Important limitations:</strong></p>
<ul>
<li>Less ideal than achieving balance at the design phase</li>
<li>Assumes homogeneity of regression slopes</li>
<li>Should be pre-registered to avoid analytic flexibility</li>
</ul>
</div>
</section>
<section id="key-takeaways-randomization-and-confounding" class="slide level2 content-light">
<h2>Key Takeaways: Randomization and Confounding</h2>
<div title="For Your Thesis/Dissertation Research">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>For Your Thesis/Dissertation Research</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li><p><strong>Simple randomization is not enough</strong> for typical psychology studies (small <em>n</em>, multiple potential confounds)</p></li>
<li><p><strong>At the design phase:</strong> Use restricted randomization (blocking, stratification, minimization) to ensure balance on key covariates</p></li>
<li><p><strong>At the analysis phase:</strong> Pre-register planned covariate adjustments (ANCOVA) for variables you couldn‚Äôt balance by design</p></li>
<li><p><strong>For observational studies:</strong> Covariate adjustment is essential, but remember you can only control for confounds you measured</p></li>
</ol>
</div>
</div>
</div>
</div>
<div class="fragment">
<p><strong>The bottom line:</strong> Whether your study is experimental or observational, thinking carefully about confounding variables‚Äîand planning how to address them‚Äîshould be standard practice, not an afterthought.</p>
</div>
</section>
<section id="references-randomization-and-balance" class="slide level2 content-light smaller">
<h2>References: Randomization and Balance</h2>
<p>Kang, M., Ragan, B. G., &amp; Park, J. H. (2008). Issues in outcomes research: An overview of randomization techniques for clinical trials. <em>Journal of Athletic Training, 43</em>(2), 215‚Äì221.</p>
<p>Morgan, K. L., &amp; Rubin, D. B. (2012). Rerandomization to improve covariate balance in experiments. <em>Annals of Statistics, 40</em>(2), 1263‚Äì1282.</p>
<p>Nguyen, T. L., Collins, G. S., Lamy, A., Devereaux, P. J., Daur√®s, J. P., Landais, P., &amp; Le Manach, Y. (2017). Simple randomization did not protect against bias in smaller trials. <em>Journal of Clinical Epidemiology, 84</em>, 105‚Äì113.</p>
</section>
<section id="key-takeaway" class="slide level2">
<h2>Key Takeaway</h2>
<blockquote>
<p><strong>Including relevant covariates can DRAMATICALLY change conclusions about group differences.</strong></p>
</blockquote>
<p>This is why we:</p>
<ol type="1">
<li>Think carefully about potential confounds BEFORE analyzing data</li>
<li>Report both unadjusted and adjusted analyses</li>
<li>Interpret coefficients correctly (‚Äúholding constant‚Äù)</li>
<li>Are cautious about causal claims from observational data</li>
</ol>
<p><strong>Important caveat:</strong> Statistical adjustment doesn‚Äôt prove causation. There may be unmeasured confounders we haven‚Äôt accounted for. The adjusted effect estimates what the difference <em>would be</em> if groups were equal on the covariate‚Äîit doesn‚Äôt guarantee that‚Äôs the true causal effect.</p>
</section>
<section id="part-8-a-clinical-example" class="slide level2 section-header" data-background="linear-gradient(135deg, #5E1A99 0%, #7231B2 50%, #814FBC 100%)">
<h2>Part 8: A Clinical Example</h2>
<p>Nothing new here - just 3 groups instead of 2 groups. Read on your own if we run out of time in the lecture.</p>
</section>
<section id="section-4" class="slide level2" data-background-image="images/ai-image-therapy-triptych.webp" data-background-size="cover">
<h2></h2>
<div class="overlay-text-bottom">
<p><strong>Scenario:</strong> Is our new therapy app as effective as traditional therapy?</p>
</div>
</section>
<section id="the-telehealth-question" class="slide level2 content-light">
<h2>The Telehealth Question</h2>
<p>A clinic wants to know: <strong>Is our new therapy app as effective as traditional therapy for anxiety?</strong></p>
<p>They compare three delivery formats for GAD treatment:</p>
<table class="caption-top">
<thead>
<tr class="header">
<th>Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>In-person</td>
<td>Traditional face-to-face therapy</td>
</tr>
<tr class="even">
<td>Telehealth</td>
<td>Synchronous video sessions</td>
</tr>
<tr class="odd">
<td>App</td>
<td>Self-guided with minimal therapist contact</td>
</tr>
</tbody>
</table>
<p><strong>Outcome:</strong> Post-treatment GAD-7 scores (lower = less anxiety)</p>
</section>
<section id="the-clinical-data" class="slide level2">
<h2>The Clinical Data</h2>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: right;">ID</th>
<th style="text-align: left;">Format</th>
<th style="text-align: right;">Duration (yrs)</th>
<th style="text-align: right;">GAD-7 Post</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">11.0</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">9.7</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">8.2</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">11.4</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">11.7</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">9.8</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">8.2</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">5.4</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">5.7</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">4.3</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">9.7</td>
<td style="text-align: right;">11</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><em>Showing first 12 of 90 participants</em></p>
</section>
<section id="unadjusted-analysis-format-only" class="slide level2 size-85">
<h2>Unadjusted Analysis: Format Only</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href=""></a>lm_format_only <span class="ot">&lt;-</span> <span class="fu">lm</span>(gad7_post <span class="sc">~</span> format, <span class="at">data =</span> anxiety_data)</span>
<span id="cb41-2"><a href=""></a><span class="fu">tidy</span>(lm_format_only, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 23%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">8.47</td>
<td style="text-align: right;">0.47</td>
<td style="text-align: right;">18.17</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">7.54</td>
<td style="text-align: right;">9.39</td>
</tr>
<tr class="even">
<td style="text-align: left;">formattelehealth</td>
<td style="text-align: right;">-0.93</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: right;">-1.42</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">-2.24</td>
<td style="text-align: right;">0.38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">formatapp</td>
<td style="text-align: right;">-0.53</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: right;">-0.81</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">-1.84</td>
<td style="text-align: right;">0.78</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The <strong>intercept</strong> (8.47) represents the mean GAD-7 score for patients in <strong>in-person</strong> therapy (the reference group).</p>
<p>The coefficient for <strong>formattelehealth</strong> (-0.93) indicates that telehealth patients scored 0.93 points lower (better!) than in-person patients. The mean for telehealth is 7.53 (8.47 + -0.93).</p>
<p>The coefficient for <strong>formatapp</strong> (-0.53) indicates that app users scored 0.53 points lower (better!) than in-person patients. The mean for app is 7.93 (8.47 + -0.53).</p>
<p><strong>Based on this unadjusted analysis</strong>, the cheap app appears to outperform in-person therapy!</p>
</section>
<section id="but-who-uses-each-format" class="slide level2">
<h2>But Who Uses Each Format?</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href=""></a>anxiety_data <span class="sc">|&gt;</span></span>
<span id="cb42-2"><a href=""></a>  <span class="fu">group_by</span>(format) <span class="sc">|&gt;</span></span>
<span id="cb42-3"><a href=""></a>  <span class="fu">summarize</span>(</span>
<span id="cb42-4"><a href=""></a>    <span class="at">mean_duration =</span> <span class="fu">mean</span>(duration),</span>
<span id="cb42-5"><a href=""></a>    <span class="at">mean_gad7 =</span> <span class="fu">mean</span>(gad7_post)</span>
<span id="cb42-6"><a href=""></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">Format</th>
<th style="text-align: right;">Mean Duration (yrs)</th>
<th style="text-align: right;">Mean GAD-7</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">8.0</td>
<td style="text-align: right;">8.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">telehealth</td>
<td style="text-align: right;">5.0</td>
<td style="text-align: right;">7.5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">app</td>
<td style="text-align: right;">2.7</td>
<td style="text-align: right;">7.9</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>The confound:</strong> Patients with longer illness duration (harder to treat) are overrepresented in the in-person group. This makes in-person therapy <em>look</em> less effective than it actually is.</p>
</section>
<section id="adjusted-analysis-format-duration" class="slide level2 size-85">
<h2>Adjusted Analysis: Format + Duration</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href=""></a>lm_adjusted <span class="ot">&lt;-</span> <span class="fu">lm</span>(gad7_post <span class="sc">~</span> format <span class="sc">+</span> duration, <span class="at">data =</span> anxiety_data)</span>
<span id="cb43-2"><a href=""></a><span class="fu">tidy</span>(lm_adjusted, <span class="at">conf.int =</span> <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 23%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 10%">
<col style="width: 12%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: right;">estimate</th>
<th style="text-align: right;">std.error</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">conf.low</th>
<th style="text-align: right;">conf.high</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">3.27</td>
<td style="text-align: right;">1.03</td>
<td style="text-align: right;">3.19</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.23</td>
<td style="text-align: right;">5.31</td>
</tr>
<tr class="even">
<td style="text-align: left;">formattelehealth</td>
<td style="text-align: right;">1.03</td>
<td style="text-align: right;">0.67</td>
<td style="text-align: right;">1.54</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: right;">-0.30</td>
<td style="text-align: right;">2.37</td>
</tr>
<tr class="odd">
<td style="text-align: left;">formatapp</td>
<td style="text-align: right;">2.92</td>
<td style="text-align: right;">0.85</td>
<td style="text-align: right;">3.45</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1.24</td>
<td style="text-align: right;">4.61</td>
</tr>
<tr class="even">
<td style="text-align: left;">duration</td>
<td style="text-align: right;">0.65</td>
<td style="text-align: right;">0.12</td>
<td style="text-align: right;">5.50</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">0.89</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The <strong>intercept</strong> (3.27) represents the predicted GAD-7 score for <strong>in-person</strong> patients (the reference group) with zero years of illness duration.</p>
<p>The coefficient for <strong>duration</strong> (0.65) indicates that each additional year of illness was associated with a 0.65-point increase in GAD-7, <em>holding format constant</em>. That is, for two patients receiving the same treatment format, a one-year difference in illness duration corresponds to a 0.65-point difference in post-treatment anxiety.</p>
<p>The coefficient for <strong>formattelehealth</strong> (1.03) indicates that telehealth patients scored 1.03 points higher (worse) than in-person patients, <em>holding duration constant</em>. That is, for two patients with the same illness duration, the difference in predicted GAD-7 between in-person and telehealth is 1.03.</p>
<p>The coefficient for <strong>formatapp</strong> (2.92) indicates that app users scored 2.92 points higher (worse) than in-person patients, <em>holding duration constant</em>. That is, for two patients with the same illness duration, the difference in predicted GAD-7 between in-person and app is 2.92.</p>
<div class="fragment">
<p><strong>The story flips completely!</strong> After adjusting for illness duration, in-person therapy emerges as the most effective format‚Äîthe opposite of what the unadjusted analysis suggested.</p>
</div>
</section>
<section id="visualizing-the-adjusted-model" class="slide level2">
<h2>Visualizing the Adjusted Model</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/anxiety-plot-1.png" class="quarto-figure quarto-figure-center" width="864"></p>
</figure>
</div>
</div>
</div>
<p>At any given duration, in-person therapy produces the lowest GAD-7 scores.</p>
</section>
<section id="visualizing-the-adjusted-model-3d" class="slide level2" data-transition="none">
<h2>Visualizing the Adjusted Model (3D)</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a167828642640342b023" style="width:768px;height:576px;"></div>
<script type="application/json" data-for="htmlwidget-a167828642640342b023">{"x":{"visdat":{"1511a26e25b1f":["function () ","plotlyVisDat"],"1511a56cc642a":["function () ","data"],"1511a4c42deb":["function () ","data"],"1511a6ba2a1be":["function () ","data"],"1511a228f827":["function () ","data"],"1511a4fbbc98c":["function () ","data"],"1511a31ad2f39":["function () ","data"]},"cur_data":"1511a31ad2f39","attrs":{"1511a56cc642a":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":6,"color":"#2ca02c"},"name":"In-person","inherit":true},"1511a4c42deb":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"lines","line":{"width":4,"color":"#2ca02c"},"showlegend":false,"inherit":true},"1511a6ba2a1be":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":6,"color":"#1f77b4","symbol":"diamond"},"name":"Telehealth","inherit":true},"1511a228f827":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"lines","line":{"width":4,"color":"#1f77b4"},"showlegend":false,"inherit":true},"1511a4fbbc98c":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"markers","marker":{"size":6,"color":"#d62728","symbol":"square"},"name":"App","inherit":true},"1511a31ad2f39":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"z":{},"type":"scatter3d","mode":"lines","line":{"width":4,"color":"#d62728"},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"Duration (years)"},"yaxis":{"title":"Format","tickvals":[0,1,2],"ticktext":["In-person","Telehealth","App"]},"zaxis":{"title":"GAD-7 Score"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[0.5,3.3999999999999999,3.5,4.2999999999999998,4.5,4.5999999999999996,5.4000000000000004,5.7000000000000002,6.2000000000000002,8,8,8.0999999999999996,8.1999999999999993,8.1999999999999993,8.1999999999999993,8.1999999999999993,9.1999999999999993,9.3000000000000007,9.5,9.5999999999999996,9.6999999999999993,9.6999999999999993,9.8000000000000007,10.199999999999999,10.6,11,11.1,11.300000000000001,11.4,11.699999999999999],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"z":[1,5,3,11,5,2,7,10,7,10,9,10,7,6,13,11,10,12,8,12,9,11,7,11,13,8,9,8,12,7],"type":"scatter3d","mode":"markers","marker":{"color":"#2ca02c","size":6,"line":{"color":"rgba(31,119,180,1)"}},"name":"In-person","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"frame":null},{"x":[0.5,3.3999999999999999,3.5,4.2999999999999998,4.5,4.5999999999999996,5.4000000000000004,5.7000000000000002,6.2000000000000002,8,8,8.0999999999999996,8.1999999999999993,8.1999999999999993,8.1999999999999993,8.1999999999999993,9.1999999999999993,9.3000000000000007,9.5,9.5999999999999996,9.6999999999999993,9.6999999999999993,9.8000000000000007,10.199999999999999,10.6,11,11.1,11.300000000000001,11.4,11.699999999999999],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"z":[3.5987999521669121,5.4886009524412485,5.5537665041748463,6.075090918043629,6.2054220215108247,6.2705875732444216,6.7919119871132052,6.9874086423139978,7.3132364009819879,8.4862163321867481,8.4862163321867481,8.5513818839203459,8.616547435653942,8.616547435653942,8.616547435653942,8.616547435653942,9.2682029529899204,9.33336850472352,9.4636996081907157,9.5288651599243117,9.5940307116579113,9.5940307116579113,9.6591962633915092,9.9198584703258987,10.18052067726029,10.441182884194681,10.506348435928281,10.636679539395477,10.701845091129073,10.897341746329868],"type":"scatter3d","mode":"lines","line":{"color":"#2ca02c","width":4},"showlegend":false,"marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"frame":null},{"x":[2.3999999999999999,2.3999999999999999,2.7999999999999998,3.2000000000000002,3.3999999999999999,3.6000000000000001,3.7999999999999998,3.7999999999999998,4,4,4.0999999999999996,4.0999999999999996,4.0999999999999996,4.4000000000000004,4.5999999999999996,4.9000000000000004,5,5.2000000000000002,5.5999999999999996,5.5999999999999996,5.7000000000000002,5.7999999999999998,5.9000000000000004,6.2000000000000002,6.2000000000000002,6.5999999999999996,6.7999999999999998,7.2000000000000002,8.5,8.5999999999999996],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"z":[4,6,6,6,5,8,6,7,6,10,6,8,8,8,6,5,11,8,9,8,9,10,8,9,8,8,9,3,11,10],"type":"scatter3d","mode":"markers","marker":{"color":"#1f77b4","size":6,"symbol":"diamond","line":{"color":"rgba(44,160,44,1)"}},"name":"Telehealth","error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"frame":null},{"x":[2.3999999999999999,2.3999999999999999,2.7999999999999998,3.2000000000000002,3.3999999999999999,3.6000000000000001,3.7999999999999998,3.7999999999999998,4,4,4.0999999999999996,4.0999999999999996,4.0999999999999996,4.4000000000000004,4.5999999999999996,4.9000000000000004,5,5.2000000000000002,5.5999999999999996,5.5999999999999996,5.7000000000000002,5.7999999999999998,5.9000000000000004,6.2000000000000002,6.2000000000000002,6.5999999999999996,6.7999999999999998,7.2000000000000002,8.5,8.5999999999999996],"y":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"z":[5.8716117641265901,5.8716117641265901,6.1322739710609806,6.3929361779953728,6.5232672814625676,6.6535983849297633,6.783929488396959,6.783929488396959,6.9142605918641546,6.9142605918641546,6.9794261435977525,6.9794261435977525,6.9794261435977525,7.174922798798546,7.3052539022657417,7.5007505574665361,7.565916109200133,7.6962472126673287,7.95690941960172,7.95690941960172,8.0220749713353179,8.0872405230689157,8.1524060748025136,8.3479027300033071,8.3479027300033071,8.6085649369376984,8.7388960404048941,8.9995582473392854,9.8467104198760573,9.9118759716096534],"type":"scatter3d","mode":"lines","line":{"color":"#1f77b4","width":4},"showlegend":false,"marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"frame":null},{"x":[0.5,0.5,0.5,1,1.1000000000000001,1.3,2.1000000000000001,2.2000000000000002,2.2000000000000002,2.2999999999999998,2.2999999999999998,2.5,2.6000000000000001,2.7000000000000002,2.7000000000000002,2.7000000000000002,2.8999999999999999,3.1000000000000001,3.1000000000000001,3.2999999999999998,3.3999999999999999,3.5,3.5,3.5,3.7000000000000002,3.7999999999999998,3.8999999999999999,4.2000000000000002,4.4000000000000004,4.5],"y":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"z":[10,8,5,6,4,5,11,10,10,4,9,11,8,7,10,4,9,11,8,9,4,7,10,6,10,8,7,6,9,12],"type":"scatter3d","mode":"markers","marker":{"color":"#d62728","size":6,"symbol":"square","line":{"color":"rgba(148,103,189,1)"}},"name":"App","error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"line":{"color":"rgba(148,103,189,1)"},"frame":null},{"x":[0.5,0.5,0.5,1,1.1000000000000001,1.3,2.1000000000000001,2.2000000000000002,2.2000000000000002,2.2999999999999998,2.2999999999999998,2.5,2.6000000000000001,2.7000000000000002,2.7000000000000002,2.7000000000000002,2.8999999999999999,3.1000000000000001,3.1000000000000001,3.2999999999999998,3.3999999999999999,3.5,3.5,3.5,3.7000000000000002,3.7999999999999998,3.8999999999999999,4.2000000000000002,4.4000000000000004,4.5],"y":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"z":[6.5214130457720483,6.5214130457720483,6.5214130457720483,6.8472408044400375,6.9124063561736353,7.042737459640831,7.5640618735096137,7.6292274252432115,7.6292274252432115,7.6943929769768085,7.6943929769768085,7.824724080444005,7.8898896321776029,7.9550551839112007,7.9550551839112007,7.9550551839112007,8.0853862873783964,8.215717390845592,8.215717390845592,8.3460484943127859,8.4112140460463856,8.4763795977799816,8.4763795977799816,8.4763795977799816,8.6067107012471773,8.6718762529807769,8.737041804714373,8.9325384599151683,9.0628695633823639,9.12803511511596],"type":"scatter3d","mode":"lines","line":{"color":"#d62728","width":4},"showlegend":false,"marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The three parallel lines show the adjusted effect: at any illness duration, in-person therapy (green) produces the lowest anxiety scores.</p>
</section>
<section id="comparing-unadjusted-vs.-adjusted-effects" class="slide level2">
<h2>Comparing Unadjusted vs.&nbsp;Adjusted Effects</h2>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">Format</th>
<th style="text-align: right;">Unadjusted</th>
<th style="text-align: right;">Adjusted</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Telehealth vs.&nbsp;In-person</td>
<td style="text-align: right;">-0.93</td>
<td style="text-align: right;">1.03</td>
</tr>
<tr class="even">
<td style="text-align: left;">App vs.&nbsp;In-person</td>
<td style="text-align: right;">-0.53</td>
<td style="text-align: right;">2.92</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Without adjustment:</strong> The app looked just as good as in-person therapy (even slightly better!)</p>
<p><strong>With adjustment:</strong> Comparing patients with the <em>same illness duration</em>, the app produces GAD-7 scores about 2.9 points higher (worse) than in-person therapy.</p>
<p><strong>Clinical implication:</strong> The app‚Äôs apparent success came from treating easier cases (shorter duration), not from being an effective treatment.</p>
</section>
<section id="additional-statistics-anxiety-models" class="slide level2">
<h2>Additional Statistics: Anxiety Models</h2>
<p><strong>R¬≤ from glance() for both models:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href=""></a><span class="fu">glance</span>(lm_format_only)  <span class="co"># Unadjusted model</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top" style="width:100%;">
<colgroup>
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 2%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 10%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">r.squared</th>
<th style="text-align: right;">adj.r.squared</th>
<th style="text-align: right;">sigma</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">df</th>
<th style="text-align: right;">logLik</th>
<th style="text-align: right;">AIC</th>
<th style="text-align: right;">BIC</th>
<th style="text-align: right;">deviance</th>
<th style="text-align: right;">df.residual</th>
<th style="text-align: right;">nobs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.0226837</td>
<td style="text-align: right;">0.0002167</td>
<td style="text-align: right;">2.552439</td>
<td style="text-align: right;">1.009645</td>
<td style="text-align: right;">0.3685769</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-210.5133</td>
<td style="text-align: right;">429.0267</td>
<td style="text-align: right;">439.0259</td>
<td style="text-align: right;">566.8</td>
<td style="text-align: right;">87</td>
<td style="text-align: right;">90</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href=""></a><span class="fu">glance</span>(lm_adjusted)      <span class="co"># Adjusted model</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<colgroup>
<col style="width: 9%">
<col style="width: 12%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 2%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">r.squared</th>
<th style="text-align: right;">adj.r.squared</th>
<th style="text-align: right;">sigma</th>
<th style="text-align: right;">statistic</th>
<th style="text-align: right;">p.value</th>
<th style="text-align: right;">df</th>
<th style="text-align: right;">logLik</th>
<th style="text-align: right;">AIC</th>
<th style="text-align: right;">BIC</th>
<th style="text-align: right;">deviance</th>
<th style="text-align: right;">df.residual</th>
<th style="text-align: right;">nobs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.2771335</td>
<td style="text-align: right;">0.2519172</td>
<td style="text-align: right;">2.207889</td>
<td style="text-align: right;">10.99026</td>
<td style="text-align: right;">0.0000035</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">-196.942</td>
<td style="text-align: right;">403.8839</td>
<td style="text-align: right;">416.383</td>
<td style="text-align: right;">419.2304</td>
<td style="text-align: right;">86</td>
<td style="text-align: right;">90</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="additional-statistics-anxiety-models-1b" class="slide level2 smaller">
<h2>Additional Statistics: Anxiety Models 1b</h2>
<p><strong>95% Confidence Intervals for R¬≤ using MBESS:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href=""></a><span class="fu">library</span>(MBESS)</span>
<span id="cb46-2"><a href=""></a></span>
<span id="cb46-3"><a href=""></a><span class="co"># For unadjusted model: df.1 = number of predictors, df.2 = residual df</span></span>
<span id="cb46-4"><a href=""></a><span class="fu">ci.R2</span>(<span class="at">R2 =</span> <span class="fu">glance</span>(lm_format_only)<span class="sc">$</span>r.squared,</span>
<span id="cb46-5"><a href=""></a>      <span class="at">df.1 =</span> <span class="dv">2</span>,   <span class="co"># 2 predictors (telehealth and app dummies)</span></span>
<span id="cb46-6"><a href=""></a>      <span class="at">df.2 =</span> <span class="fu">glance</span>(lm_format_only)<span class="sc">$</span>df.residual,</span>
<span id="cb46-7"><a href=""></a>      <span class="at">conf.level =</span> <span class="fl">0.95</span>,</span>
<span id="cb46-8"><a href=""></a>      <span class="at">Random.Predictors =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Lower.Conf.Limit.R2
[1] 0

$Prob.Less.Lower
[1] 0

$Upper.Conf.Limit.R2
[1] 0.09920748

$Prob.Greater.Upper
[1] 0.025</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href=""></a><span class="co"># For adjusted model: 3 predictors (telehealth, app, duration)</span></span>
<span id="cb48-2"><a href=""></a><span class="fu">ci.R2</span>(<span class="at">R2 =</span> <span class="fu">glance</span>(lm_adjusted)<span class="sc">$</span>r.squared,</span>
<span id="cb48-3"><a href=""></a>      <span class="at">df.1 =</span> <span class="dv">3</span>,   <span class="co"># 3 predictors</span></span>
<span id="cb48-4"><a href=""></a>      <span class="at">df.2 =</span> <span class="fu">glance</span>(lm_adjusted)<span class="sc">$</span>df.residual,</span>
<span id="cb48-5"><a href=""></a>      <span class="at">conf.level =</span> <span class="fl">0.95</span>,</span>
<span id="cb48-6"><a href=""></a>      <span class="at">Random.Predictors =</span> <span class="cn">FALSE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Lower.Conf.Limit.R2
[1] 0.1110639

$Prob.Less.Lower
[1] 0.025

$Upper.Conf.Limit.R2
[1] 0.398425

$Prob.Greater.Upper
[1] 0.025</code></pre>
</div>
</div>
</section>
<section id="additional-statistics-anxiety-models-2" class="slide level2 smaller">
<h2>Additional Statistics: Anxiety Models 2</h2>
<p><strong>Partial Eta Squared for adjusted model:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href=""></a><span class="fu">library</span>(effectsize)</span>
<span id="cb50-2"><a href=""></a><span class="fu">eta_squared</span>(lm_adjusted, <span class="at">partial =</span> <span class="cn">TRUE</span>, <span class="at">ci =</span> <span class="fl">0.90</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># Effect Size for ANOVA (Type I)

Parameter | Eta2 (partial) |       90% CI
-----------------------------------------
format    |           0.03 | [0.00, 1.00]
duration  |           0.26 | [0.16, 1.00]

- One-sided CIs: upper bound fixed at [1.00].</code></pre>
</div>
</div>
<div title="Note: No Cohen's d for 3+ Groups">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note: No Cohen‚Äôs d for 3+ Groups</strong></p>
</div>
<div class="callout-content">
<p>Cohen‚Äôs <em>d</em> is designed for comparing two groups. With three treatment formats, we use <strong>Partial Eta Squared</strong> (<span class="math inline">\(\eta^2_p\)</span>) to quantify effect sizes in the adjusted model.</p>
</div>
</div>
</div>
</div>
</section>
<section id="additional-statistics-anxiety-models-3" class="slide level2 smaller">
<h2>Additional Statistics: Anxiety Models 3</h2>
<p><strong>Descriptive Statistics by Format:</strong></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href=""></a>anxiety_data <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href=""></a>  <span class="fu">group_by</span>(format) <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href=""></a>  <span class="fu">summarize</span>(<span class="at">mean_gad7 =</span> <span class="fu">mean</span>(gad7_post),</span>
<span id="cb52-4"><a href=""></a>            <span class="at">sd_gad7 =</span> <span class="fu">sd</span>(gad7_post),</span>
<span id="cb52-5"><a href=""></a>            <span class="at">mean_duration =</span> <span class="fu">mean</span>(duration),</span>
<span id="cb52-6"><a href=""></a>            <span class="at">n =</span> <span class="fu">n</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="caption-top">
<thead>
<tr class="header">
<th style="text-align: left;">Format</th>
<th style="text-align: right;">Mean GAD-7</th>
<th style="text-align: right;">SD GAD-7</th>
<th style="text-align: right;">Mean Duration</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">in_person</td>
<td style="text-align: right;">8.47</td>
<td style="text-align: right;">3.13</td>
<td style="text-align: right;">7.97</td>
<td style="text-align: right;">30</td>
</tr>
<tr class="even">
<td style="text-align: left;">telehealth</td>
<td style="text-align: right;">7.53</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">4.95</td>
<td style="text-align: right;">30</td>
</tr>
<tr class="odd">
<td style="text-align: left;">app</td>
<td style="text-align: right;">7.93</td>
<td style="text-align: right;">2.41</td>
<td style="text-align: right;">2.67</td>
<td style="text-align: right;">30</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>These statistics provide all values needed for the results paragraph.</p>
</section>
<section id="results-paragraph-anxiety-treatment-1" class="slide level2 size70">
<h2>Results Paragraph: Anxiety Treatment 1</h2>
<p>We examined whether treatment delivery format (in-person, telehealth, or self-guided app) affected post-treatment anxiety symptoms, measured by GAD-7 scores (<em>N</em> = 90). Patients were assigned to in-person therapy (<em>n</em> = 30), telehealth (<em>n</em> = 30), or a self-guided app (<em>n</em> = 30). We conducted two analyses: an unadjusted analysis comparing formats directly, and an adjusted analysis accounting for patients‚Äô duration of illness.</p>
<p><strong>Unadjusted analysis.</strong> We first regressed post-treatment GAD-7 scores on delivery format alone. In this model, the regression coefficient (<em>b</em>) for each format represents the difference in mean GAD-7 scores between that format and in-person therapy (the reference group). In-person patients had a mean post-treatment GAD-7 of 8.47 (<em>SD</em> = 3.13). Telehealth patients scored 0.93 points lower (better) than in-person patients, <em>b</em> = -0.93, 95% CI [-2.24, 0.38], <em>t</em>(87) = -1.42, <em>p</em> = .160. App users scored 0.53 points lower (better) than in-person patients, <em>b</em> = -0.53, 95% CI [-1.84, 0.78], <em>t</em>(87) = -0.81, <em>p</em> = .421. Based on this unadjusted analysis alone, we might conclude that the low-cost app produces outcomes comparable to in-person therapy.</p>
</section>
<section id="results-paragraph-anxiety-treatment-2" class="slide level2 size70">
<h2>Results Paragraph: Anxiety Treatment 2</h2>
<p><strong>Adjusted analysis.</strong> However, the three groups differed substantially in illness duration: in-person patients had much longer illness histories (<em>M</em> = 7.97 years) compared to telehealth (<em>M</em> = 4.95 years) and app users (<em>M</em> = 2.67 years). Patients with longer illness duration are typically more difficult to treat, which could make in-person therapy appear less effective than it actually is. To address this confound, we conducted a multiple regression predicting post-treatment GAD-7 from both delivery format and illness duration.</p>
<p>In this adjusted model, the regression coefficient (<em>b</em>) for each format represents the difference in GAD-7 scores between that format and in-person therapy, <em>holding illness duration constant</em>. Said another way, each coefficient estimates the format difference for two patients with the same illness duration. After this adjustment, the pattern reversed. Telehealth patients scored 1.03 points <em>higher</em> (worse) than in-person patients with the same illness duration, <em>b</em> = 1.03, 95% CI [-0.3, 2.37], <em>t</em>(86) = 1.54, <em>p</em> = .128. App users scored 2.92 points higher (worse) than in-person patients with the same illness duration, <em>b</em> = 2.92, 95% CI [1.24, 4.61], <em>t</em>(86) = 3.45, <em>p</em> &lt; .001, <span class="math inline">\(\eta^2_p\)</span> = 0.03, 90% CI [0, 1].</p>
</section>
<section id="results-paragraph-anxiety-treatment-3" class="slide level2 size70">
<h2>Results Paragraph: Anxiety Treatment 3</h2>
<p><strong>Conclusion.</strong> The unadjusted and adjusted analyses tell strikingly different stories. Without accounting for illness duration, the self-guided app appeared as effective as in-person therapy. After adjustment, in-person therapy emerged as the most effective format, with app users showing GAD-7 scores approximately 2.9 points higher (worse) than in-person patients matched on illness duration.</p>
<p>This reversal occurred because app users had substantially shorter illness histories (2.7 vs.&nbsp;8 years)‚Äîmaking them easier to treat regardless of format. The app‚Äôs apparent success reflected patient characteristics, not treatment effectiveness. This example illustrates why controlling for confounds is essential when comparing treatments across non-randomized groups.</p>
</section>
<section id="part-9-summary" class="slide level2 section-header" data-background="linear-gradient(135deg, #8B006E 0%, #A40085 50%, #B32F94 100%)">
<h2>Part 9: Summary</h2>
</section>
<section id="the-big-picture-how-it-all-connects" class="slide level2" data-transition="none">
<h2>The Big Picture: How It All Connects</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="reg-cat-part2_files/figure-revealjs/concept-map-1.png" class="quarto-figure quarto-figure-center" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="key-takeaways" class="slide level2">
<h2>Key Takeaways</h2>
<table class="caption-top">
<colgroup>
<col style="width: 23%">
<col style="width: 76%">
</colgroup>
<thead>
<tr class="header">
<th>#</th>
<th>Takeaway</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>≈∑ is an estimate of the mean y for people with those predictor values</td>
</tr>
<tr class="even">
<td>2</td>
<td>Categorical predictors require contrast coding (treatment coding uses 0s and 1s)</td>
</tr>
<tr class="odd">
<td>3</td>
<td>The intercept = predicted ≈∑ when all predictors = 0 (for categorical: the reference group mean)</td>
</tr>
<tr class="even">
<td>4</td>
<td>Think horizontally to understand predicted scores</td>
</tr>
<tr class="odd">
<td>5</td>
<td>‚ÄúHolding constant‚Äù fundamentally changes what the coefficient means</td>
</tr>
<tr class="even">
<td>6</td>
<td>Coefficients can change dramatically when covariates are added (confounding)</td>
</tr>
<tr class="odd">
<td>7</td>
<td>Use APA 7 format and write accessible results sections</td>
</tr>
</tbody>
</table>
</section>
<section id="whats-next" class="slide level2">
<h2>What‚Äôs Next</h2>
<p><strong>Activity 1: Treatment Coding Practice</strong></p>
<ul>
<li>Deep practice with treatment coding (2 and 4 groups)</li>
<li>Extensive ‚Äúthinking horizontally‚Äù tables</li>
</ul>
<p><strong>Activity 2: Mixed Predictors</strong></p>
<ul>
<li>Combine categorical and continuous predictors</li>
<li>Work through confounding examples</li>
</ul>
<p><strong>Assignment: Results Section</strong></p>
<ul>
<li>Analyze a CBT vs.&nbsp;Standard Care study</li>
<li>Compare unadjusted and adjusted analyses</li>
<li>Write a 500-word results section</li>
</ul>
</section>
<section id="assumptions-note" class="slide level2">
<h2>Assumptions Note</h2>
<p>What we assumed today:</p>
<ul>
<li>Parallel regression lines (no interaction between predictors)</li>
<li>Linearity (relationship between continuous predictor and outcome is linear)</li>
<li>Other standard regression assumptions (normality of residuals, etc.)</li>
<li>Adequate sample size for stable estimates</li>
</ul>
<p>We‚Äôll cover regression diagnostics and what to do when assumptions are violated in a future lecture.</p>
</section>
<section id="final-thought" class="slide level2 content-minimal">
<h2>Final Thought</h2>
<p>Remember our opening question about the onboarding program?</p>
<blockquote>
<p>The new-program group scored higher. Case closed?</p>
</blockquote>
<p><strong>Now you can answer:</strong> ‚ÄúNot so fast‚Äîwhat else differs between the groups?‚Äù</p>
<p>That question‚Äîand the tools to answer it‚Äîis what you learned today.</p>
</section>
<section id="references" class="slide level2">
<h2>References</h2>
<p>Bickel, P. J., Hammel, E. A., &amp; O‚ÄôConnell, J. W. (1975). Sex bias in graduate admissions: Data from Berkeley. <em>Science</em>, <em>187</em>(4175), 398‚Äì404. https://doi.org/10.1126/science.187.4175.398</p>
</section>
<section id="supplementary-materials-available" class="slide level2 content-light">
<h2>Supplementary Materials Available</h2>
<p>Additional slides on confounding examples, caveats, and randomization simulations are available in:</p>
<p><strong><code>reg-cat-2-supplements.qmd</code></strong></p>
<p>Topics covered:</p>
<ul>
<li>Real-world confounding examples</li>
<li>When NOT to adjust (colliders, mediators)</li>
<li>Monte Carlo simulations verifying randomization balance claims</li>
<li>Multiple covariate balance probabilities</li>
</ul>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="reg-cat-part2_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="reg-cat-part2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="reg-cat-part2_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="reg-cat-part2_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="reg-cat-part2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="reg-cat-part2_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="reg-cat-part2_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="reg-cat-part2_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="reg-cat-part2_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="reg-cat-part2_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
multiplex: {
  secret: null,
  id: '350487c243bd086167828e2f3e09a7baa9fe1073c803d07501db9dcd3c7e3bab',
  url: 'https://multiplex.up.railway.app/'
},
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1024,

        height: 768,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ],
        dependencies: [
          { src: 'https://multiplex.up.railway.app/socket.io/socket.io.js', async: true },
          { src: 'https://multiplex.up.railway.app/client.js', async: true }
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>